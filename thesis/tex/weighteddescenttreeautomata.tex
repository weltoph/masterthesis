\section{Weighted Descent Tree Automata}
The basis of the tree automata we want to present in this section is given in
\cite{RandAutoInfTrees}. There non-deterministic tree automata are equipped 
with an alternative semantic, namely the runs are equipped with a uniform 
probability measure at each branching point and the run is considered 
accepted if the measure of those paths that satisfy an associated condition
(e.g. Büchi- or Parity-condition) have a certain measure. As for \acp{PBA} this
allows for almost-sure or positive acceptance of runs. In the following we 
introduce suggested generalizations of \cite{RandAutoInfTrees} by designing 
transitions more expressive by adding individual probability measures for them.
Furthermore, we incorporate the concept of \emph{alternation} by allowing to 
send different states on the same path through the tree with individual weight.
Formally, we define in analogy to clause-functions a notion of a weighted 
clause function, i.e.
\begin{definition}[Generator]
  For a set of states $Q$ and a set of directions $D$ we call a probability
  function on $Q\times D$, i.e. $G: Q\times D\rightarrow [0,1]$ with
  \begin{equation*}
    \sum\limits_{q\in Q,d\in D}G(q,d) = 1,
  \end{equation*} 
  a generator over $Q$ and $D$. 
\end{definition}
These generators are used to substitute clause-functions in alternating tree
automata and we obtain the following tree automata:
\begin{definition}[Weighted Descent Tree Automata]
  We define a \acl{WDTA} as tuple
  $\mathcal{A} = \tuple{Q, q_{0}, D, \Sigma, \Delta, \Acc}$ where $Q$ is a 
  finite set of states, $q_{0}$ the initial state, $D$ a finite set of 
  directions, $\Sigma$ is a finite Alphabet and $\Acc\subseteq Q^{\omega}$ is a
  $\omega$-regular target of infinite words of elements in $Q$. Again, we 
  consider $\Acc$ to be expressed as Büchi-, Parity-, Rabin- or 
  Muller-condition. $\Delta$ is defined as set of transitions 
  $\tuple{q,\sigma,G}$ with $q\in Q, \sigma\in\Sigma$ and $G$ is a generator 
  over $Q$ and $D$. Additionally, we define the set of all used generators 
  \begin{equation*}
    \mathcal{G}(\mathcal{A}) = \set{
      G:\text{exist }q\in Q\text{ and }\sigma\in\Sigma
      \text{ such that }\tuple{q,\sigma,G}\in\Delta
    }.
  \end{equation*}
  The semantics of a \ac{WDTA} $\mathcal{A}$ is given as a run
  $r:\tuple{Q\times D}^{*}\rightarrow \mathcal{G}(\mathcal{A})$ on a tree 
  $t:D^{*}\rightarrow\Sigma$ with similar requirements as a run for an 
  alternating tree automata, namely
  \begin{enumerate}
    \item $\tuple{q_{0}, t(\epsilon), r(\epsilon)}\in\Delta$,
    \item and for every $r(\tuple{q_{1}, d_{1}}\dots\tuple{q_{n}, d_{n}}) = G$ 
      there is $\tuple{q_{n}, t(d_{1}\dots d_{n}), G}\in\Delta$.
  \end{enumerate}
\end{definition}
Analogously to the semantic of \acp{PBA} or a strategy in a \ac{MDP} a run 
induces a probability measure on $\mathcal{B}(Q\times D)$ by fixing the measure
of cylinders by 
\begin{equation*}
  \mu_{r}(\cyl(\tuple{q_{1},d_{1}}\dots\tuple{q_{n},d_{n}}))
    = r(\epsilon)(q_{1},d_{1})\cdot\prod\limits_{i = 1}^{n - 1}
    r(\tuple{q_{1},d_{1}}\dots\tuple{q_{i},d_{i}})(q_{i+1},d_{i+1})
\end{equation*}
for every $\tuple{q_{1},d_{1}}\dots\tuple{q_{n},d_{n}}\in\tuple{Q\times D}^{*}$
and uniquely extend\footnote{
  Again, using \cite[Theorem 5.6 (Carath\'{e}odory's extension theorem) and 
  Theorem 5.4]{Bauer}.
} this measure to $\mathcal{B}(Q\times D)$. Naturally, the acceptance of $r$ is 
defined by the measure on those paths accepting the condition in the state 
component, i.e. $\Acc\interval{Q}$. In order to ensure the well-formedness of 
this defintion it is necessary to show the measurability of $\Acc\interval{Q}$. 
But this is obtained by the same argument as for Lemma 
\ref{lem:measureabilityAcceptance} or respectively Corollary 
\ref{cor:borelAcceptance} with setting the base-set of the Borel-algebra as
$Q\times D$ and extending the acceptance conditions accordingly. Hence, we 
state
\begin{lemma}
  For a Büchi-, Parity-, Rabin- or Muller-condition represented as $F$, 
  $\parity$, $R$, $\mathcal{F}$ respectively, the sets $\Acc\interval{Q}(F),
  \Acc\interval{Q}(\parity),\Acc\interval{Q}(R),\Acc\interval{Q}(\mathcal{F})$
  are measureable in $\mathcal{B}(Q\times D)$.
  \label{lem:treeBorelAcceptance}
\end{lemma}
\begin{proof}
  Given a set of states $Q$ with an associated Büchi-condition $F$ and a set of 
  directions $D$ we proof the measureability of $\Acc\interval{Q}(F)$ by 
  setting $Q' = Q\times D$ and $F' = \set{\tuple{q, d}\in Q'\mid q\in F}$. With
  Lemma \ref{lem:measureabilityAcceptance} we obtain that 
  $\Acc(F')\in\mathcal{B}(Q') = \mathcal{B}(Q\times D)$. It suffices to show
  $\Acc(F') = \Acc\interval{Q}(F)$. For every non-empty
  $A = \set{\tuple{p_{1},b_{1}}\dots\tuple{p_{k},b_{k}}}\subseteq Q'$ we have
  $A\cap F'\neq\emptyset$ if and only if there is one $i$ such that 
  $\tuple{p_{i},b_{i}}\in F'$ which holds by choice of $F'$ if and only if
  $p_{i}\in F$ and therefore 
  $A\interval{Q} = \set{p_{1},\dots,p_{k}}\cap F\neq\emptyset$. Then we have
  for every $\alpha = \tuple{q_{1},d_{1}}\tuple{q_{2},d_{2}}\dots\in\Acc(F')$ 
  if and only if $A = \Inf(\alpha)\cap F'\neq\emptyset$ if and only if 
  $A\interval{Q}\cap F\neq\emptyset$ if and only if $q_{1}q_{2}\dots\in\Acc(F)$
  if and only if $\alpha\in\Acc\interval{Q}(F)$. The measureability for 
  Muller-conditions (and therefore also for Parity- or Rabin-conditions) 
  follows analogously to the proof of Corollary \ref{cor:borelAcceptance}.
\end{proof}
Also, analogously to alternating tree automata, a run $r$ contains 
\enquote{marked paths}. These are those paths that actually carry weight. By
substituting every generator $G$ with a clause-function $\delta_{A_{G}}$ with
$A_{G} = \set{\tuple{q,d}\in Q\times D\mid G(q,d)>0}$\footnote{This set $A_{G}$
is commonly referred to as support of $G$, i.e. $\supp(G)$.
} we obtain these paths in the same manner as $M_{r}$ for runs of alternating
tree automata, therefore we refer to these elements also as $M_{r}$. By this 
concept it is easy to see that only those paths in $M_{r}$ actually matter for
the acceptance of a run, hence we state
\begin{lemma}
  For a \ac{WDTA} $\mathcal{A}$ and two runs $r_{1}, r_{2}$ on $t$ such that
  $M_{r_{1}} = M_{r_{2}}$ and for all $u$ such that there is a 
  $\beta\in M_{r_{1}}$ with $u\sqsubset\beta$ holds $r_{1}(u) = r_{2}(u)$, then
  $\mu_{r_{1}}$ and $\mu_{r_{2}}$ coincide.
\end{lemma}
Effectively the choices of a \acp{WDTA} only matter if they actually are 
weighted. Therefore, we occasionally refer to $M_{r}$ as the 
\emph{weighted part} of a run $r$ and implicitly deduce general statements on
$r$ by arguments on $M_{r}$.

In the following we often focus on Parity-conditions and motivate this by the
observation that Parity-conditions are sufficient to express all other 
conditions (as suggested in \cite[page 24:9, Proposition 6]{RandAutoInfTrees}
and which is an integral part of the omitted proof of Theorem 
\ref{thm:probautoequiv}).
\begin{lemma}
  For every \ac{WDTA} $\mathcal{A}$ with a Büchi-, Rabin- or Muller-condition 
  we can construct an equivalent \ac{WDTA} $\mathcal{C}$ with a 
  Parity-condition.
  \label{lem:wdtaparityexpressiveness}
\end{lemma}
\begin{proof}
  Firstly, we observe that Büchi- and Rabin-conditions can be expressed
  as Muller-conditions. Secondly, we construct for a 
  \ac{WDTA}
  \begin{equation*}
    \mathcal{A} = \tuple{
      Q, q_{0}, D, \Sigma, \Delta, \mathcal{F} = \set{F_{1},\dots,F_{n}}
    }
  \end{equation*}
  an equivalent \ac{WDTA} $\mathcal{C}$ with a Parity-condition via the use of
  an \ac{LAR}. Using an \ac{LAR} increases the state space but preserves the 
  structure, especially the weighting, of a run and thus yields the same 
  measure of the set of accepted paths. We construct
  \begin{equation*}
    \mathcal{C}=\tuple{
      \lar(Q),\ell_{0}, D, \Sigma, \Delta', \parity
    }
  \end{equation*} 
  where $\ell_{0}$ is one arbitrary element of $\lar(Q)_{\interval{q_{0}}}$ and 
  $\parity$ is defined as before for \acp{LAR}\footnote{
    Recall that parities grow proportional with the size of the hit-set and are 
    even for hit-sets that are part of $\mathcal{F}$ and odd otherwise.
  } (see proof of Theorem \ref{thm:omegaregularexp}). For every transition 
  $\tuple{q,\sigma,G}\in\Delta$ we define
  \begin{equation*}
    G_{\ell}'(\ell', d) = \begin{cases}
      G_{i}(p,d) &\text{if }\ell' = \up(\ell,p),\\
      0          &\text{otherwise,}
    \end{cases}
  \end{equation*}
  and add
  \begin{equation*}
    \set{
      \tuple{\ell,\sigma,G_{\ell}'}:\text{for every }\ell\in
        \lar(Q)_{\interval{q}}
    }
  \end{equation*}
  to $\Delta'$. Fix a tree $t$ and we observe that every run $r$ of 
  $\mathcal{A}$ can be embedded in a run $r'$ of $\mathcal{C}$ by an 
  inductive construction: for $\tuple{q_{0}, t(\epsilon), r(\epsilon)}\in
  \Delta$ exists an associated $\tuple{\ell_{0}, t(\epsilon), G}$ and we set
  $r'(\epsilon) = G$. Notably, we can pick any element 
  $\tuple{\ell, d}\in\lar(Q)\times D$ with $G(\ell, d) > 0$ and project it to
  $\tuple{p, d}\in Q\times D$ such that $\up(\ell_{0}, p) = \ell$ and iterate
  this argument. This embeds $r$ in $r'$. Moreover, we can observe that this 
  allows to obtain for any run $r'$ of $\mathcal{C}$ on $t$ a run $r$ of 
  $\mathcal{A}$ on $t$ by iteratively using the corresponding original 
  transitions from which transitions in $\mathcal{C}$ are derived. Importantly, 
  we can relate by the inductive construction paths in $r$ and $r'$ in both 
  directions such that
  \begin{center}
    \begin{tabular}{ccccc}
      $q_{0}$ & $\tuple{q_{1}, d_{1}}$ & $\tuple{q_{2}, d_{2}}$ & 
        $\tuple{q_{3}, d_{3}}$ & \dots\\
      $\ell_{0}$ & $\tuple{\ell_{1}, d_{1}}$ & $\tuple{\ell_{2}, d_{2}}$ & 
        $\tuple{\ell_{3}, d_{3}}$ & \dots
    \end{tabular}
  \end{center}
  with $\ell_{i} = \up(\ell_{i-1}, q_{i})$ for all $i>0$ and state that all 
  other paths in the domain of $r'$ have a measure of $0$ by definition of the
  generators in $\mathcal{C}$. Thus, in the \enquote{weighted} part of the 
  domain of $r'$ there is a one-to-one correspondance to elements in the domain
  of $r$. Specifically, we obtain
  \begin{equation*}
    \mu_{r}(\cyl(\tuple{q_{1},d_{1}}\dots\tuple{q_{n},d_{n}})) = 
      \mu_{r'}(\cyl(\tuple{\ell_{1},d_{1}}\dots\tuple{\ell_{n},d_{n}}))
  \end{equation*}
  for the related paths. This allows to conclude with Lemma \ref{lem:larhitset}
  \begin{equation*}
    \mu_{r}(\Acc(\mathcal{F})) = \mu_{r'}(\Acc(\parity)),
  \end{equation*} 
  which yields the claimed acceptance equivalence of $\mathcal{A}$ and 
  $\mathcal{C}$.
\end{proof}

We distinguish certain structural properties on \acp{WDTA} which allows us to
categorize \acp{WDTA}, namely
\begin{definition}[Structural Properties]
  A \ac{WDTA} $\mathcal{A}$ is called
  \begin{description}
    \item [choiceless] if there is at most one transition for every pair 
      $q\in Q, \sigma\in\Sigma$ in $\Delta$,
    \item [uni-directional] if for every clause there is at most one state send
      to every direction, i.e. for every $G\in\mathcal{G}_{\mathcal{A}}$
      there is at most one $q\in Q$ such that $G(q, d) > 0$ for all
      $d\in D$. Intuitively this means that the automaton explores every path
      with at most one state,
    \item [uniformly distributed] if $\mathcal{A}$ is uni-directional
      and for a direction $d\in D$ every clause agrees on the weight that is
      sent down that direction. Thus, for all $d\in D$ holds that for all
      $G_{1}, G_{2}\in\mathcal{G}_{\mathcal{A}}$ we have
      $G_{1}(q, d) = G_{2}(p, d)$ for the unique $q, p$ for which
      $G_{1}(q, d) > 0$, respectively $G_{2}(p, d) > 0$ or
      $G_{1}(q, d) = G_{2}(p, d) = 0$ for all $q, p$. Thus, we can fix a
      probability distribution $B:D\rightarrow \interval{0,1}$ such that for
      every $G\in\mathcal{G}_{\mathcal{A}}$ there is one $q\in Q$ with
      $B(d) = G(q, d)$. We call this distribution $B$ the \emph{blueprint} of
      $\mathcal{A}$. 
  \end{description}
\end{definition}
This allows us to categorize the mainly examined tree automata in 
\cite{RandAutoInfTrees} as uniformly distributed \acp{WDTA} over a fixed set of
directions $D = \set{0,1}$ with a blueprint $B$ such that
\begin{equation*}
  B(0) = B(1) = \frac{1}{2}.
\end{equation*}
Given these definitions we explore the theory of \acp{WDTA}.

\subsection{Closure Properties}
In the following we explore the closure properties of \acp{WDTA} regarding 
union, intersection and negation. Mainly, we re-iterate ideas for \acp{PBA} and
alternating tree automata. Also, we examine these properties selective, 
predominantly focusing on almost-surely accepting models because they prove
most relevant for the examined use-cases later on. Unsuprisingly, the 
non-determinism of the model induces closure under union for certain classes in 
a straightforward manner (as suggested by 
\cite[Proposition 14]{RandAutoInfTrees}). 
\begin{proposition}[Union - uni-directional, unrestricted]
  Uni-directional and unrestricted \acp{WDTA} are closed under union for 
  either positive and almost-sure acceptance.
  \label{prop:uniunrunion}
\end{proposition}
\begin{proof}
  For two automata
  $\mathcal{A}_{1} = \tuple{Q_{1}, q^{0}_{1}, D, \Sigma, \Delta_{1}, 
    \parity_{1}}$ and $\mathcal{A}_{2} = \tuple{Q_{2}, q^{0}_{2}, D, \Sigma, 
  \Delta_{2}, \parity_{2}}$ we can w.l.o.g. assume that 
  $Q_{1}\cap Q_{2} = \emptyset$. The union \ac{WDTA} guesses 
  in the very first transition which of the automata is checked for the tree:
  \begin{equation*}
    \mathcal{C} = \tuple{Q_{1}\cup Q_{2}\uplus\set{q^{i}}, q^{i}, D, \Sigma,
    \Delta' = \Delta_{1}'\cup\Delta_{2}'\cup\Delta^{i},\parity_{\cup}}
  \end{equation*}
  where $q^{i}$ is a new state and the transitions separate in
  \begin{equation*}
    \Delta_{i}' = \set{
      \tuple{q,\sigma,G\interval{Q_{3-j}\mapsto 0}}:
        \tuple{q,\sigma,G}\in\Delta_{i}
    }\text{ for }i = 1,2
  \end{equation*}
  and
  \begin{equation*}
    \Delta^{i} = \set{
      \tuple{q^{i},\sigma,G\interval{Q_{j}\times D\mapsto 0}}:
        \text{for }j = 1,2 \text{ and every } 
        \tuple{q_{0},\sigma,G}\in\Delta_{3-j}
    }.
  \end{equation*}
  Each transition in $\Delta_{1}'$ or $\Delta_{2}'$ mirrors one original 
  transition in either $\mathcal{A}_{1}$ or $\mathcal{A}_{2}$ respectively, but
  its generator is extended to the necessary domain for formal reasons. By 
  setting all transitions for states of the other automaton to $0$ ensures that
  it precisely simulates the original transition. On the other hand we have
  $\Delta^{i}$ as the union of all initial transitions from 
  $\Delta_{1}$ and $\Delta_{2}$ which are again formally defined for the 
  complete domain $\tuple{Q_{1}\cup Q_{2}}\times D$ but effectively mirrors one
  transition from either $\Delta_{1}$ or $\Delta_{2}$. Finally, we define
  \begin{equation*}
    \parity_{\cup}(q) = \begin{cases}
      \parity_{i}&\text{if }q\in Q_{i}\text{ for }i = 1,2,\\
      \min\tuple{\parity_{1}(Q)\cup\parity_{2}(P)}.&\text{if }q = q^{i}.
    \end{cases}
  \end{equation*}
  For any run $r$ of $\mathcal{C}$ the element $r(\epsilon)$ corresponds with a
  transition in $\Delta_{i}$ for $i$ either $1$ or $2$. By the definition of
  the transitions in $\Delta'$ we can state that $\mu_{r}(\cyl(u)) = 0$ for any
  $u\notin\tuple{Q_{i}\times D}^{*}$. More importantly, for any run $r$ of
  $\mathcal{C}$ on $t$ we find a run $r'$ of $\mathcal{A}$ on $t$ (and vice
  verca) such that $\mu_{r}(\cyl(u)) = \mu_{r'}(\cyl(u))$ for any 
  $u\in\tuple{Q_{i}\times D}^{*}$ and therefore $\mu_{r}(A) = \mu_{r'}(A)$ for
  all $A\in\mathcal{B}(Q_{i}\times D)$ and $\mu_{r}(B) = 0$ for all 
  $B\in\mathcal{B}(\tuple{Q_{1}\cup Q_{2}}\times D)
    \setminus\mathcal{B}(Q_{i}\times D)$. Hence, all runs in $\mathcal{C}$
  can be bijected to all runs of either $\mathcal{A}_{1}$ or $\mathcal{A}_{2}$.
  By definition of $\parity_{\cup}$ we have 
  $\Acc(\parity_{\cup})\cap\mathcal{B}(Q_{i}\times D) = \Acc(\parity_{i})$ for
  $i = 1,2$ and therefore $\mathcal{C}$ accepts the trees which are accepted by 
  either $\mathcal{A}_{1}$ or $\mathcal{A}_{2}$. This construction respects 
  uni-directionality and even a common blueprint of $\mathcal{A}_{1}$ and 
  $\mathcal{A}_{2}$ since transition are simply mirrored.
\end{proof}
\begin{corollary}
  The class of uniformly distributed \acp{WDTA} with a fixed blueprint $B$ is 
  closed under union.
\end{corollary}
The natural question arises if this closure persists for the complete class of 
uniformly distributed \acp{WDTA}. Considering this question we examine the
relevance of the local probabilities regarding the resulting measure. For 
\acp{PBA} we already established with Lemma \ref{lem:measureinpba} and its 
consequences that the choice of the transition probabilities does matter. In 
this context we discuss some results from \cite{RandAutoInfTrees}. Firstly, we 
introduce the following example:
\begin{example}
  \cite[Example 7]{RandAutoInfTrees}
  Let $\mathcal{L}$ be the set of all binary trees over $\set{a,b}$ such that
  under a uniform probability distribution of successors the set of all 
  branches containing infinitely many $a$ has measure $1$. We can accept 
  $\mathcal{L}$ with a deterministic uniformly distributed \ac{WDTA} with 
  Büchi-condition and almost-sure acceptance
  \begin{equation*}
    \mathcal{A} = \tuple{\set{q_{a}, q_{b}}, q_{s}, \set{0,1}, \set{a,b}, 
    \Delta, \set{q_{a}}}
  \end{equation*}
  with
  \begin{equation*}
    \Delta = \set{
      \tuple{q_{\sigma}, \sigma, G_{\sigma}}:
        \text{for every }\sigma\in\Sigma
    }
    \text{ and } G_{\sigma}(q, d) = \begin{cases}
      \frac{1}{2}&\text{if }q = q_{\sigma}\text{ and both }d,\\
      0&\text{otherwise}.
    \end{cases}
  \end{equation*}
  The argument that this automaton accepts $\mathcal{L}$ is straightforward 
  since only those paths that contain infinitely often an $a$ do have 
  infinitely often a weighted occurence of $q_{a}$; thus, the run of 
  $\mathcal{A}$ mirrors the input tree $t$ and the language $\mathcal{L}$ is
  defined analogously to the semantic of \acp{WDTA}. Note that $\mathcal{A}$
  respects a blueprint $B(0) = B(1) = \frac{1}{2}$ and can therefore be 
  considered uniformly distributed.
  \label{ex:udwdta}
\end{example}
To this example we additionally introduce
\begin{proposition}
  \cite[Proposition 11]{RandAutoInfTrees}
  For two reals $0 < p < q < 1$ and we define $\mathcal{A}_{p}$ and 
  $\mathcal{A}_{q}$ analogously to $\mathcal{A}$ from Example \ref{ex:udwdta}
  but with blueprint $B(0) = p, B(1) = 1-p$ and $B(0) = q, B(1) = 1-q$ 
  respectively. Then, there is a tree $t$ such that for the unique runs $r_{p}$
  (and $r_{q}$) of $\mathcal{A}_{p}$ (and $\mathcal{A}_{q}$ respectively) on 
  $t$ holds that $\mu_{r_{p}}(\Acc(F)) = 0$ while $\mu_{r_{q}}(\Acc(F)) = 1$.
\end{proposition}
Thus, the \enquote{local} probabilities are relevant for the global measure
which is similar to \acp{PBA}. But in both arguments the examined models are
deterministic in the choice of their transitions. Naturally, this rises 
questions about the benefit to use non-determinism in probabilistic models. As 
we see later on the usage of non-determinism is not a limiting factor in some 
examined decision procedures, e.g. for deciding emptiness. Nevertheless, we 
leave the question for the closure under union for uniformly distributed
\acp{WDTA} open (cp. also \cite[Remark 12]{RandAutoInfTrees}).

Regarding intersection we provide a construction to show closure under 
intersection for \acp{WDTA} under almost-sure acceptance. For positive 
acceptance the closure under intersection is provided for uniformly distributed
\acp{WDTA} with common blueprint. As we will see the defined construction for
almost-sure acceptance actually can be used to show closure under union for
positively accepting \acp{WDTA}. Since it utilizes the same construction as for
positively accepting \acp{PBA} or alternating tree automata respectively.
Thus, for almost-sure acceptance a general intersection operator can separate
in the first transition the runs of both \ac{WDTA} with a probability of
$\frac{1}{2}$ each. Both these runs do individually need an acceptance measure 
of $1$ to render the new run almost-surely accepted.
\begin{proposition}
  \acp{WDTA} with almost-sure acceptance are closed under intersection.
\end{proposition}
\begin{proof}
  We introduce the intersection automaton as follows
  \begin{definition}
    For 
    \begin{equation*}
      \mathcal{A}_{1} = \tuple{
        Q_{1}, q^{1}_{0}, D, \Sigma, \Delta_{1}, \parity_{1}}
      \text{ and }
      \mathcal{A}_{2} = \tuple{
        Q_{2}, q^{2}_{0}, D, \Sigma, \Delta_{2}, \parity_{2}}
    \end{equation*}
    (again assuming w.l.o.g. that $Q_{1}\cap Q_{2} = \emptyset$) we define
    \begin{equation*}
      \mathcal{C} = \tuple{
        Q_{1}\cup Q_{2}\uplus\set{q_{\cap}}, q_{\cap}, D, \Sigma, 
        \Delta_{1}'\cup\Delta_{2}'\cup\Delta_{\cap}, \parity_{\cap}
      }
    \end{equation*}
    with
    \begin{equation*}
      \Delta_{i}' = \set{
        \tuple{q,\sigma,G\interval{Q_{3-i}\cup\set{
          q_{\cap}}\mapsto 0}}:\tuple{q,\sigma, G}\in\Delta_{i}
      }\text{ for }i = 1,2,
    \end{equation*}
    and
    \begin{equation*}
      \Delta_{\cap} = \set{
        \tuple{q_{\cap},\sigma, G^{G_{1}}_{G_{2}}}: \text{for all }
        \tuple{q^{i}_{0},\sigma, G_{i}}\in\Delta_{i}, i = 1,2
      }
    \end{equation*}
    where
    \begin{equation*}
      G^{G_{1}}_{G_{2}}(q,d) = \begin{cases}
        \frac{1}{2}\cdot G_{i}(q,d)&\text{if }q\in Q_{i}\text{ for }i = 1,2,\\
        0&\text{otherwise}.
      \end{cases}
    \end{equation*}
    Regarding the acceptance condition we choose to use every individual 
    acceptance condition and render $q_{\cap}$ irrelevant by setting
    \begin{equation*}
      \parity_{\cap}(q) = \begin{cases}
        \parity_{i}(q)&\text{if }q\in Q_{i}\\
        \min\set{\parity_{1}(q_{0}^{1}),\parity_{2}(q_{0}^{2})}&\text{
          otherwise}.
      \end{cases}
    \end{equation*}
  \end{definition}
  Analogously to the proof of Corollary \ref{cor:treeintersection} we can 
  identify two independent runs on the tree. The main observation is that no
  weighting is exchanged between the $Q_{1}$ and $Q_{2}$ part of any run. Let
  $r$ be a run of $\mathcal{C}$ on a tree $t$, then for all $u\in \tuple{
    \tuple{Q_{1}\cup Q_{2}}\times D}^{*}\setminus\tuple{
    \tuple{Q_{1}\times D}^{*}\cup\tuple{Q_{2}\times D}^{*}}$ we have 
  $\mu_{r}(\cyl(u)) = 0$. Additionally, we can find two runs $r_{1}$ and 
  $r_{2}$ for $\mathcal{A}_{1}$ and $\mathcal{A}_{2}$ respectively on $t$ such
  that for every $u\in\tuple{Q_{1}\times D}^{+}$ and 
  $w\in\tuple{Q_{2}\times D}^{+}$ holds $r_{1}(u)=r(u)$ and $r_{2}(w)=r(w)$ 
  since $\Delta_{i}'$ mirrors $\Delta_{i}$ for $i= 1,2$ respectively (note that
  also for every two such runs $r_{1}$ and $r_{2}$ a run $r$ in $\mathcal{C}$
  exists). By construction of $\Delta_{\cap}$ we can additionally state that 
  $\mu_{r}(\cyl(u)) = \frac{1}{2}\cdot\mu_{r_{1}}(\cyl(u))$ and 
  $\mu_{r}(\cyl(u)) = \frac{1}{2}\cdot\mu_{r_{2}}(\cyl(w))$ respectively. Using
  the fact that $\Acc(\parity_{\cap})$ coincides with $\Acc(\parity_{1})$ and
  $\Acc(\parity_{2})$ on $\tuple{Q_{1}\times D}^{\omega}$ and 
  $\tuple{Q_{2}\times D}^{\omega}$ allows us to concludingly state that
  \begin{equation*}
    \mu_{r}(\Acc(\parity_{\cap})) = 
      \frac{1}{2}\cdot\mu_{r_{1}}(\Acc(\parity_{1})) 
    + \frac{1}{2}\cdot\mu_{r_{2}}(\Acc(\parity_{2})).
  \end{equation*}
  Hence, $\mu_{r}(\Acc(\parity_{\cap})) = 1$ if and only if 
  $\mu_{r_{1}}(\Acc(\parity_{1})) = 1$ and 
  $\mu_{r_{2}}(\Acc(\parity_{2})) = 1$ which ensures that $\mathcal{C}$ indeed
  accepts the intersection of $\mathcal{A}_{1}$ and $\mathcal{A}_{2}$. Note 
  that this construction respects choicelessness of the original automata.

  Additionally, we can observe that $\mu_{r}(\Acc(\parity_{\cap})) > 0$ if and 
  only if $\mu_{r_{1}}(\Acc(\parity_{1}))>0$ or 
  $\mu_{r_{2}}(\Acc(\parity_{2}))>0$; and therefore we can use $\mathcal{C}$ as
  alternative construction to ensure the closure of \acp{WDTA} with positive
  acceptance.
\end{proof}
\begin{corollary}
  The class of languages that can be recognized by choiceless \acp{WDTA} with
  almost-sure (positive) acceptance is closed under intersection (union).  
\end{corollary}
Actually, this results hints at the duality between choiceless \acp{WDTA} with 
positive acceptance and almost-sure acceptance which is expressd in
\begin{proposition}
  For every choiceless \acp{WDTA}-skeleton (which are the structural components
  but not an acceptance condition) 
  $\mathcal{S} = \tuple{Q, q_{0}, D, \Sigma, \Delta}$ the
  \ac{WDTA} $\mathcal{A} = \tuple{\mathcal{S}, \parity}$ with positive 
  (almost-sure) acceptance is dual to the \ac{WDTA} 
  $\mathcal{C} = \tuple{\mathcal{S}, \parity + 1}$ with almost-sure (positive)
  acceptance.
\end{proposition}
\begin{proof}
  We already argued in the proof of Theorem \ref{thm:omegaregboolean} that 
  increasing all parities by one exchanges accepting and non-accepting paths,
  therefore
  \begin{equation*}
    \tuple{Q\times D}^{\omega} = 
      \Acc\interval{Q}(\parity)\cup\Acc\interval{Q}(\parity + 1)
    \text{ with }
      \Acc\interval{Q}(\parity)\cap\Acc\interval{Q}(\parity + 1) = \emptyset.
  \end{equation*}
  Hence, for the unique run $r_{t}$ of $\mathcal{S}$ on every $t$ we obtain 
  that $\mu_{r_{t}}(\Acc\interval{Q}(\parity)) = 
    1 - \mu_{r_{t}}(\Acc\interval{Q}(\parity + 1)$ and therefore we get that
  $\mathcal{A}$ accepts $t$ almost-surely (positively) if and only if
  $\mathcal{C}$ does not accept $t$ positively (almost-surely).
\end{proof}
For uni-directional \acp{WDTA} with common blueprint we can relate on the 
common product construction for intersection to yield an intersection operator.
The details of this argument can be found in 
\cite[Proposition 14]{RandAutoInfTrees}.
\begin{proposition}
  Uni-directional \acp{WDTA} with common blueprint are closed under
  intersection.
\end{proposition}

For the negation we initially consider one example:
\begin{example}
  We consider $\mathcal{L}$ as the language of all binary $\set{a,b}$-trees 
  such that there is at least one path without an $a$. It is easy to accept 
  this language with a \acp{WDTA} by implementing a search of such a path. We 
  define
  \begin{equation*}
    \mathcal{A} = \tuple{
      \set{q_{s}, q_{f}}, q_{s}, \set{0,1}, \set{a,b}, \Delta, \parity
    }
  \end{equation*}
  with
  \begin{equation*}
    \Delta = \set{\tuple{q_{s}, b, G_{d}}:\text{ for }d\in\set{0,1}}\cup
    \set{
      \tuple{q_{s}, a, G_{f}},\tuple{q_{f}, a, G_{f}},\tuple{q_{f}, a, G_{f}}
    }
  \end{equation*}
  with
  \begin{equation*}
    G_{d}(q, b) = \begin{cases}
      1&\text{if }b = d\text{ and }q = q_{s},\\
      0&\text{otherwise},
    \end{cases}
    \text{ and }
    G_{f}(q, d) = \begin{cases}
      \frac{1}{2}&\text{if }q = q_{f},\\
      0&\text{otherwise}.
    \end{cases}
  \end{equation*}
  Furthermore, we set
  \begin{equation*}
    \parity(q_{s}) = 0\text{ and }\parity(q_{f}) = 1.
  \end{equation*}
  The automaton accepts by guessing a path which only contains of $b$ and thus
  staying within state $q_{s}$ and obtain an accepting run with measure $1$.
  On the other hand, if any $a$ is observed at any time, the run is deemed to
  fail, since the weighting shifts to a uniform distribution on state $q_{f}$
  rendering all weighted paths in the run non-accepting.
  \label{ex:wdtaapath}
\end{example}
This example allows us to argue about the negation, namely we state (as for the
more restricted environment from \cite[Proposition 15]{RandAutoInfTrees})
\begin{proposition}
  The class of languages that are almost-surely accepted by \acp{WDTA} is 
  \emph{not} closed under negation.
\end{proposition}
\begin{proof}
  Consequently, we consider the language $\mathcal{L}$ from Example 
  \ref{ex:wdtaapath} and its complement, i.e. the language 
  $\overline{\mathcal{L}}$ of binary $\set{a,b}$-trees such that every path 
  contains at least one $a$. We show that $\overline{\mathcal{L}}$ is not 
  recognizeable by a \ac{WDTA} and the argument is conceptually simple. The 
  idea is that all paths can wait arbitrarily long to present an $a$. The 
  automaton on the other hand has to distribute weight into all path to not
  miss any occurence of an $a$. This constant distributions renders some path
  negligeable.

  \fxfatal{end proof}
\end{proof}

\section{Modelling in \acp*{WDTA}}
We want to motivate the introduction of \acp{WDTA} by showing their strength to
model the behaviour of other probabilistic models. 
\subsection{Word Automata}
Initially, we consider \acp{PBA}. By reducing the directions to a 
singelton set a tree degenerates to a single path. This path can be interpreted 
as one word and the run of a \ac{PBA} on that word can be modelled as a run of 
a \ac{WDTA}:
\begin{theorem}
  For every \ac{PBA} $\mathcal{P}$ existent an equivalent choiceless \ac{WDTA}
  $\mathcal{A}$ over a singleton direction set and Büchi-condition and for 
  every choiceless \ac{WDTA} $\mathcal{A}$ with a Büchi-condition and a
  singleton direction set exists an equivalent \ac{PBA}.
  \label{thm:pbaaswdta}
\end{theorem}
\begin{proof}
  For a \ac{PBA} $\mathcal{P} = \tuple{Q, \Sigma, \delta, q_{0}, F}$ we define
  \ac{WDTA} $\mathcal{A} = \tuple{Q, q_{0}, \set{0}, \Sigma, \Delta, F}$ with
  \begin{equation*}
    \Delta = \set{
      \tuple{q,\sigma,G_{q}^{\sigma}}:\text{for every }q\in Q,\sigma\in\Sigma
    }\text{ with }G_{q}^{\sigma}(p, 0) = \delta(q,\sigma,p).
  \end{equation*}
  By interpreting words $\alpha = \alpha_{0}\alpha_{1}\dots\in\Sigma^{\omega}$
  as \enquote{trees} $t_{\alpha}:\set{0}^{*}\rightarrow\Sigma$ with 
  $t(u) = \alpha_{\size{u}}$ allows us to state that for the unique run 
  $r_{t_{\alpha}}$ of $\mathcal{A}$ on $t_{\alpha}$ and any 
  $u = \tuple{q_{1}, 0}\dots\tuple{q_{n}, 0}\in\tuple{Q\times D}^{*}$
  \begin{align*}
    \mu_{r}(\cyl(u)) &= G_{q_{0}}^{t_{\alpha}(\epsilon)}(q_{1},0)\cdot
      \prod\limits_{i=1}^{n-1}G_{q_{i}}^{t_{\alpha}(0^{i})}(q_{i+1}, 0)\\
      &=\delta(q_{0},t_{\alpha}(\epsilon),q_{1})\cdot
      \delta(q_{1},t_{\alpha}(0),q_{2})\dots
        \delta(q_{n-1},t_{\alpha}(0^{n}),q_{n})\\
      &=\delta(q_{0},\alpha_{0},q_{1})\cdot
      \delta(q_{1},\alpha_{1},q_{2})\dots\delta(q_{n-1},\alpha_{n-1},q_{n}).
  \end{align*}
  Thus, projecting the run $r$ to the state sequences yields an equivalent 
  measure on $\mathcal{B}(Q)$ as the stochastic process of $\mathcal{P}$ (under
  the word $t_{\alpha}$). Since the acceptance conditions also coincide we can 
  ensure that the automata are equivalent regarding positive as well as 
  almost-sure acceptance.

  For the opposite direction, we fix a choiceless \ac{WDTA} with a 
  Büchi-condition and a singleton direction set (w.l.o.g. $D = \set{0}$)
  \begin{equation*}
    \mathcal{A} = \tuple{Q, q_{0}, D , \Sigma, \Delta, F}.
  \end{equation*}
  By the choicelessness of $\mathcal{A}$ there is exactly one 
  $\tuple{q,\sigma, G}\in\Delta$ for every pair $q\in Q$ and $\sigma\in\Sigma$.
  We denote with $G_{q}^{\sigma}$ this unique $G$. The construction of an
  equivalent \ac{PBA}
  \begin{equation*}
    \mathcal{P} = \tuple{Q, \Sigma, \delta, q_{0}, F}
  \end{equation*}
  with $\delta(q,\sigma, p) = G_{q}^{\sigma}(p, 0)$. Translating any tree
  $t:\set{0}^{*}\rightarrow\Sigma$ to an associated word 
  $\alpha_{t} = t(\epsilon)t(0)t(00)t(000)\dots$ allows us to argue that for 
  the unique run $r$ of $\mathcal{A}$ on any $t$ the can be projected to a 
  function $r':Q^{*}\rightarrow\mathcal{G}_{\mathcal{A}}$ by dropping the 
  direction set (since $\size{D} = 1$ this is actually a bijection between
  $\tuple{Q\times D}^{*}$ and $Q^{*}$). This $r'$ induces for all $u\in Q^{*}$
  the same measure for $\cyl(u)$ as the stochastic process of $\mathcal{P}$.
  Naturally, the induced measure on $\mathcal{B}(Q)$ coincide and by 
  equivalence of the acceptance condition also the measure of all accepted 
  paths.
\end{proof}
The central concept here is the equivalence of the measures on 
$\mathcal{B}(Q)$. Naturally, the equivalence can be expanded to all measureable
acceptance conditions. This directly entails
\begin{corollary}
  For every probabilistic word automaton $\mathcal{P}$ with a Rabin-, Parity- 
  or Muller-condition exists an equivalent choiceless \ac{WDTA} $\mathcal{A}$ 
  over a singleton direction set and equivalent acceptance condition and for 
  every \emph{choiceless} \ac{WDTA} $\mathcal{A}$ with a Rabin-, Parity- or
  Muller-condition over a singleton direction set exists an equivalent
  probabilistic word automaton $\mathcal{P}$.
\end{corollary}
By the combination of this result and the sufficiency of Parity-conditions to
express all other acceptance conditions for \acp{WDTA} (Lemma 
\ref{lem:wdtaparityexpressiveness}) provides the basis to infer the equivalence 
of \enquote{strong} acceptance conditions for \acp{PBA} (Theorem 
\ref{thm:probautoequiv}) as a corollary.

Additionally, we can use uni-directional \acp{WDTA} over words to emulate any 
$\omega$-regular word automaton. Fixing a singleton direction set $D = \set{0}$ 
simply allows for one possible probability distribution for the associated 
blueprint $B$ of a uniformly distributed \acp{WDTA}, i.e.  $B(0) = 1$. Thus, 
there is for every transition precisely one state which is awarded with the 
complete probability mass. 
\fxnote{find reference for dirac distribution}
Therefore, the acceptance of the \acp{WDTA} is defined by the satisfaction of
the one path that carries the complete probability mass. The acceptance of this
path is defined via a $\omega$-regular acceptance set. These observations lead
naturally to the equivalence of these automata models, i.e.
\begin{theorem}
  For a singelton direction set $D$ (w.l.o.g. $D = \set{0}$) the languages of
  trees recognizable with uni-directional \acp{WDTA} with either positive 
  or almost-sure acceptance coincides with the $\omega$-regular languages.
  \label{thm:omegaregaswdta}
\end{theorem}
\begin{proof}
  For every uni-directional \acp{WDTA} over a singleton direction set 
  there is excatly one possible probability distribution such that there is 
  only one state with weight for this direction, i.e. the one where a state is
  weighted with probability $1$. Therefore uni-directionality implies on 
  \acp{WDTA} with a single direction set an uniform distribution with blueprint
  $B$ such that $B(0) = 1$. Thus, we can encode every viable generator $G$ by 
  the one state $q$ such that $G(q,0) = 1$. This allows us to define for every 
  uniformly distributed \ac{WDTA}
  \begin{equation*}
    \mathcal{A} = \tuple{Q, q_{0}, \set{0}, \Sigma, \Delta, \parity}
  \end{equation*}
  an equivalent \ac{NPA}
  \begin{equation*}
    \mathcal{P} = \tuple{Q, q_{0}, \Sigma, \Delta', \parity}
  \end{equation*}
  with
  \begin{equation*}
    \Delta' = \set{
      \tuple{q,\sigma,p}: \text{there is }\tuple{q,\sigma,G}\in\Delta
        \text{ such that }G(p,0) = 1
    }.
  \end{equation*}
  Any run $r$ of $\mathcal{A}$ on a tree $t:\set{0}^{*}\rightarrow\Sigma$ 
  induces a Dirac measure $\mu_{r}$ on $\mathcal{B}(Q\times D)$ for one path 
  $\alpha_{r}\in\tuple{Q\times \set{0}}^{\omega}$. This means that
  \begin{equation*}
    \mu_{r}(A) = \begin{cases}
      1&\text{if }\alpha_{r}\in A,\\
      0&\text{otherwise},
    \end{cases}
  \end{equation*}
  and therefore $\mu_{r}(\Acc\interval{Q}(\parity)) = 1$ if and only if
  $\alpha_{r}\in\Acc\interval{Q}(\parity)$ which happens if and only if the
  state sequence in $\alpha_{r}$ satisfies the Parity-condition $\parity$. Note 
  here, that this Dirac measure renders positive and almost-sure acceptance 
  equivalent. Also, by the construction of $\Delta'$ this state sequence is a 
  viable run of $\mathcal{P}$. Also for every run $\beta\in Q^{\omega}$ of 
  $\mathcal{P}$ we obtain a run of $\mathcal{A}$ which induces a Dirac measure 
  on the path $\tuple{\beta_{1}, 0}\tuple{\beta_{2}, 0}\dots$. Thus, 
  $\mathcal{P}$ and $\mathcal{A}$ accept the same language. The converse 
  argument follows the same concepts, namely defining for every transition 
  $\tuple{q,\sigma, p}$ in the word automaton a transition $\tuple{q,\sigma,G}$ 
  with $G(p, 0) = 1$ in the associated \acp{WDTA} and arguing by the defining 
  element of the Dirac measure every run of this \ac{WDTA} entails.
\end{proof}
For every such uni-directional \ac{WDTA} over a single direction set we even 
obtain an equivalent \ac{DPA} by Theorem \ref{thm:omegaregularexp} and again
translating it to a \ac{WDTA} yields
\begin{corollary}
  For every uni-directional \ac{WDTA} over a singleton direction set exists
  an equivalent choiceless uni-directional \ac{WDTA}.
\end{corollary}

\subsection{Probabilistic Weighted Automata}
Recall that \acp{PBA} are meant as \acp{NBA} but where the non-determinism is
actually resolved using a probability distribution. This is conceptually 
slightly different to the concept of \acp{WDTA} which still incorporate a 
non-deterministic choice of transitions to construct a run. This run in turn 
uses a weighting along its paths. This concept is modelled using probability 
distributions but is not necessarily understood as a probabilistic choice. We 
want to discuss a concept introduced in \cite[Chapter 4]{RandAutoInfTrees} 
where the non-determinism of choosing a transition is resolved by probability 
distributions. This is conceptually closer to the idea of \acp{PBA}. 
Nevertheless, we still use a weighting within the runs itself, but in a more 
restricted fashion, namely by relying on uniformly distributed weighting only. 
This decouples the probability of a movement through the individual runs and 
the probability of the construction of one particular run itself. This allows 
for an easier mathematical analysis.

We begin by defining the class of \ac{PWA} analogously to
\cite[Definition 4.1.1]{RandAutoInfTrees} 
\begin{definition}[Probabilistic Weighted Automata]
  Fix a finite alphabet $\Sigma$, a finite set of directions $D$ and a finite
  set of states $Q$. We fix a probability distribution
  $B:D\rightarrow\interval{0,1}$ which fixes the movement through any run. The
  possible transitions are defined as a non-empty set
  \begin{equation*}
    \Delta = \set{ \tau_{1},\dots,\tau_{n} }
  \end{equation*}
  where $\tau_{i}:D\rightarrow Q$ for $1\leq i\leq n$.
  The transitions are \enquote{chosen} by a function 
  $\delta:Q\times\Sigma\times\Delta$ such that
  $\delta(q,\sigma,\cdot)$ is a probability distribution over $\Delta$.
  Concludingly, with a Büchi-condition $F\subseteq Q$ we obtain \ac{PWA}
  \begin{equation*}
    \mathcal{A} = \tuple{Q, q_{0}, D, \Sigma, B, \Delta, \delta, F}.
  \end{equation*}
\end{definition}
One run of such an automaton $\mathcal{A}$ on a tree $t:D\rightarrow\Sigma$ is
differently defined than runs for \acp{WDTA} since the run does not need to
encode the weighting of paths through the run. Nevertheless, forgetting about 
the distribution $\delta$ for now, we can use the formalism of \acp{WDTA} to 
define the semantic of one run by defining for every pair $q\in Q$ and 
$\sigma\in\Sigma$ a set of transitions of the form $\tuple{q,\sigma,G_{\tau}}$
for every $\tau$ with $\delta(q,\sigma,\tau)>0$ where
\begin{equation*}
  G_{\tau}(p,b) = \begin{cases}
    B(b)&\text{if }\tau(b) = p,\\
    0&\text{otherwise}.
  \end{cases}
\end{equation*}
Although sufficient, this renders runs as objects of unneccessary complexity 
and we therefore rely on a more concise (but equivalent) formalism:
We define one run $r:D^{*}\rightarrow Q$ such that $r(\epsilon) = q_{0}$. And, 
for every $w\in D^{*}$ such that $q = r(w)$ and $\sigma = t(w)$ there is one
$\tau\in\Delta$ with $\delta(q,\sigma,\tau)>0$ and $r(w\cdot d)=\tau(d)$ 
for all $d\in D$. As seen before, the distribution $B$ induces a measure 
$\mu_{B}$ on the Borel-algebra $\mathcal{B}(D)$ and therefore a probability 
space $\tuple{D^{\omega} = \Runs, \mathcal{B}(D), \mu_{B}}$. For a run $r$ we 
can collect the set of accepting paths regarding the Büchi-condition $F$ as 
$\Acc_{F}(r) = \set{\alpha\in D^{\omega}\mid r(\alpha)\in \Acc(F)}$. We 
consider such a run $r$ almost-surely accepting if $\mu_{B}(\Acc_{F}(r))=1$ and 
positively accepting if $\mu_{B}(\Acc_{F}(r))>0$.

Additionally, to examine the probabilities induced by $\delta$ we introduce a
$\sigma$-algebra which is generated by partial runs, i.e. finite beginnings of
runs. Therefore, we define a finite tree as a prefix-closed subset of finite
words over directions, hence
\begin{definition}[Prefix-Tree]
  For a finite set of directions $D$ we call a finite $T\subseteq D^{*}$ a
  prefix-tree if for every $w\in T$ and every prefix $v\sqsubseteq w$ holds 
  $v\in T$. Additionally, we call a prefix-tree $T$ \emph{proper} if for any 
  $w\in T$ exists $d\in D$ such that $w\cdot d\in T$ also $w\cdot d'\in T$ for 
  all other $d'\in D$ holds. We define the \emph{inner} nodes of a proper $T$ 
  as those notes that do have an extension in $T$ as
  $\inner(T) = \set{w\in T\mid w\cdot d\in T\text{ for all }d\in D}$.
\end{definition}
For a \ac{PWA} $\mathcal{A}$, a tree $t:D\rightarrow\Sigma$ and a proper 
prefix-tree $T$ we can consider a partial runs $r:T\rightarrow Q$ of 
$\mathcal{A}$ on $t$ by enforcing $r(\epsilon) = q_{0}$ and for every 
$u\in\inner(T)$ holds that there is a $\tau$ with $\delta(r(u), t(u), \tau)>0$
such that $r(u\cdot d) = \tau(d)$ for all $d\in D$. For one partial run 
$r:T\rightarrow Q$ it is straightforward to define the set of all runs 
$r':D^{*}\rightarrow Q$ of $\mathcal{A}$ on $t$ such that these runs agree on 
$T$ with $r$, i.e. for all $w\in T$ holds $r(w) = r'(w)$. We call this set 
$\compRuns(r)$. Furthermore, we can gather the set of all possible runs of 
$\mathcal{A}$ on $t$ in a set $\Runs_{\mathcal{A}}^{t}$. Analogously, to the 
concept of cylinders over a set we can capture a $\sigma$-algebra 
$\mathcal{R}_{\mathcal{A}}^{t}$ over runs by using the sets $\compRuns(r)$ for 
every partial run $r$ on $t$ as generating sets. For any partial run 
$r:T\rightarrow Q$ and any $u\in\inner(T)$ we define $\tau_{u}$ as the unique 
$\tau$ such that $r(u\cdot d) = \tau(d)$ for all $d\in D$ and obtain a 
probability for the partial run and inherently a probability for all possible
extensions $\compRuns(r)$, namely
\begin{equation*}
  \mu_{t}(\compRuns(r)) = \prod\limits_{w\in\inner(T)}
    \delta(r(u),t(u),\tau_{u}).
\end{equation*}
This, again, allows us to obtain a measureable space by using the unique 
extension of $\mu_{t}$ on $\mathcal{R}_{\mathcal{A}}^{t}$ (by abuse of notation
also referred to as $\mu_{t}$)
\begin{equation*}
  \tuple{\Runs_{\mathcal{A}}^{t}, \mathcal{R}_{\mathcal{A}}^{t}, \mu_{t}}.
\end{equation*}
In \cite{RandAutoInfTrees} different semantics for this automaton model are
discussed. For example
\begin{enumerate}
  \item in terms of $\mu_{t}$ we can formulate the acceptance condition as
    \begin{equation*}
      \mu_{t}(
        \set{
          r\in\Runs_{\mathcal{A}}^{t}\mid
            \text{ for every }\alpha\in D^{\omega}r(\alpha)\in\Acc(F)
        }
      ),
    \end{equation*}
    for example by requiring a positive or almost-sure measure. Note that this
    acceptance condition ignores the weighting of the individual runs,
  \item on the other hand we can define the acceptance condition in terms of
    of the $\mu_{t}$ measure of the set of positively accepting runs or 
    almost-surely accepting runs. Here any combinations of measures for 
    $\mu_{t}$ and $\mu_{B}$ are possible, but we restrict our arguments on the 
    almost-sure $\mu_{t}$ measure of almost-sure $\mu_{B}$ accepting runs, i.e.
    to the condition
    \begin{equation*}
      \mu_{t}(
        \set{
          r\in\Runs_{\mathcal{A}}^{t}\mid
            \mu_{B}(\Acc_{F}(r)) = 1
        }
      ) = 1.
    \end{equation*}
\end{enumerate}
In order to analyse this automata model we turn to notions of measurement 
theory, namely we define the function
\begin{equation*}
  f_{\mathcal{A}}^{t}:\Runs\times\Paths\rightarrow\interval{0,1}
  \text{ with }
  f_{\mathcal{A}}(r, p) = \begin{cases}
    1&\text{if }r(p)\in\Acc_{r}(F),\\
    0&\text{otherwise.}
  \end{cases}
\end{equation*}
Thus, $f_{\mathcal{A}}^{t}(r,\cdot)$ is a characteristic function of the set
\begin{equation*}
  \set{\alpha\in D^{\omega}\mid r(\alpha)\in\Acc_{F}(r)}.
\end{equation*}
In the following we show the integrability of the function 
$f_{\mathcal{A}}^{t}$ in the product space of 
$\tuple{\Paths, \mathcal{B}(D), \mu_{B}}$ and 
$\tuple{\Runs, \mathcal{R}_{t}, \mu_{t}}$. From this we deduce the 
well-foundness of our definition, i.e. the measureability of the set
\begin{equation*}
  \set{
    r\in\Runs_{\mathcal{A}}^{t}\mid
      \mu_{B}(\Acc_{F}(r)) = 1
  }.
\end{equation*}
Therefore, we formulate
\begin{proposition}
  \cite[Lemma 36]{RandAutoInfTrees}
  $f_{\mathcal{A}}^{t}$ is a integrable function in the product space
  $\tuple{\Runs, \mathcal{R}_{\mathcal{A}},\mu_{t}}\otimes
    \tuple{\Paths, \mathcal{B}(D), \mu_{B}}$.
\end{proposition}
\begin{proof}
  For simplicity we refer to $f_{\mathcal{A}}^{t}$ in the following as $f$.
  $f$ is by definition a characteristic function of the set
  \begin{equation*}
    \set{\tuple{r,p}\in\Runs\times\Paths\mid r(p)\in\Acc_{r}(F)}.
  \end{equation*}
  Therefore, it suffices to show that this set (denoted by $f^{-1}(1)$) is 
  measureable in the product algebra 
  $\mathcal{R}_{\mathcal{A}}\otimes\mathcal{B}(D)$. By 
  \cite[Theorem 22.1]{Bauer} holds that the product algebra
  $\mathcal{R}_{\mathcal{A}}\otimes\mathcal{B}(D)$ is generated by the
  sets $\compRuns(r)\times\cyl(p)$ for all partial runs $r$ and $p\in D^{*}$.

  Firstly, to ease the following argument we restrict our attention to
  partial runs that are \enquote{balanced}(as suggested by
  \cite[Remark 35]{RandAutoInfTrees}, i.e. all paths have the same length.
  That this restriction is purely argumentativ is ensured by
  \begin{lemma}
    The $\sigma$-algebra that is generated by all balanced partial runs and the 
    $\sigma$-algebra generated by all partial runs are identical.
  \end{lemma}
  \begin{proof}
    Initially, we can observe that every balanced partial run is a partial run
    itself and therefore the $\sigma$-algebra generated by all partial runs 
    contains the $\sigma$-algebra generated by all balanced partial runs.

    On the other hand, we consider any partial run $r:T\rightarrow Q$. We fix
    $n = \max\set{\size{u}:u\in T}$. Furthermore, we define 
    $T' = D^{n}\setminus T$ as the set of \enquote{missing} elements to balance
    $T$. Since there are only finitely many elements in $Q$ and $T'$ there are 
    only finitely many functions $r':T'\rightarrow Q$; we gather these in a set
    $R = \set{r_{1}, \dots, r_{k}}$. This implies that there are only finitely
    many balanced partial runs $s_{1}, \dots, s_{k}$ with 
    $s_{i}:D^{n}\rightarrow Q$ that agree with $r$ on $T$, namely
    \begin{equation*}
      s_{i}(u) = \begin{cases}
        r(u)&\text{if }u\in T,\\
        r_{i}(u)&\text{if }u\in T'.
      \end{cases}
    \end{equation*}
    Moreover, the set of those balanced partial runs $z_{1}, \dots, z_{m}$ that 
    are compatible with $t$ are a subset of $s_{1}, \dots, s_{k}$ and we obtain
    \begin{equation*}
      \bigcup_{1\leq i\leq m}\compRuns(z_{i}) = \compRuns(r).
    \end{equation*}
    This ensures the membership of $\compRuns(r)$ for every partial run $r$ in
    the $\sigma$-algebra generated by the set of balanced partial runs. This
    implies the claimed equality by the closure properties of the generated 
    $\sigma$-algebras and their minimality.
  \end{proof}

  Furthermore, we re-iterate concepts of the proof for Lemma 
  \ref{lem:measureabilityAcceptance} in this more complex setting to obtain the
  measureability of $f^{-1}(1)$. For any $p\in D^{*}$ fix the set of all 
  $R_{p}\subseteq\Runs\times\Paths$ such that $\tuple{r,\rho}\in R_{p}$ if and 
  only if $p\sqsubset\rho$ and for all $p\sqsubset u\sqsubset\rho$ holds 
  $r(u)\notin F$. The complement of $\cup_{w\in D^{*}}R_{w}$ describes 
  $f^{-1}(1)$, since every element $\tuple{r,p}$ in the complement of 
  $\cup_{w\in D^{*}}R_{w}$ is not part of any $R_{w}$. Obviously, it is not 
  part of those $R_{w}$ for which $w\not\sqsubset p$ and for those $w\sqsubset 
  p$ all $w$ do have a prolongation $v$ with $w\sqsubset v\sqsubset p$ with 
  $r(v)\in F$. If on the other hand $\tuple{r,p}\in f^{-1}(1)$ then $p$ is a 
  path in $r$ which satisfies the Büchi-condition and therefore for every 
  prefix $w\sqsubset p$ there is a point $v$ with $w\sqsubset v\sqsubset p$ 
  with $r(v)\in F$ which makes $\tuple{r,p}$ not part of any $R_{w}$.

  It remains to show that $R_{w}$ are measureable for every $w\in D^{*}$. Fix
  one such $w$ and for every $n>\size{w}$ gather for all balanced proper
  partial runs $r$ with depth $n$ and words $p\in D^{n}$ with $w\sqsubset p$
  and $r(p)\notin F$. The countable union of all such $\compRuns(r)$ and
  $\cyl(p)$ is collected in $C_{n}$ and we claim that
  $R_{u} = \cap_{\size{u}<n}C_{n}$ by the following argument: for any
  $\tuple{r,p}\in R_{u}$ every prolongation of $u$ that stays on $p$ does not
  visit $F$ and hence for every these prolongations $v$ we know that
  $\tuple{r,p}$ is part of $C_{\size{v}}$ and hence
  $\tuple{r,p}\in\cap_{\size{u}<n}C_{n}$. On the other hand assume
  $\tuple{r,p}\in\cap_{\size{u}<n}C_{n}$, thus for every viable prolongation
  of length $k$ for $u$ $C_{k}$ witnesses the absence of an occurence of $F$.
  
  This renders $f^{-1}$ measureable and as indicator function for a measureable 
  set integrateable in $\tuple{\Runs, \mathcal{R}_{\mathcal{A}},\mu_{t}}\otimes
  \tuple{\Paths, \mathcal{B}(D), \mu_{B}}$.
\end{proof}

Given the function $f_{\mathcal{A}}^{t}$ and its measureability allows to
deduce the measureability of
\begin{equation*}
  g:\Runs\rightarrow\interval{0,1}\text{ with } 
    g(r) = \int_{\Paths}f_{\mathcal{A}}^{t}(r, \cdot)
\end{equation*}
in $\mathcal{R}_{\mathcal{A}}$ by \cite[Lemma 23.1]{Bauer}. Moreover, we obtain
the integrability of $g$ by its boundedness and therefore deduce the 
measureability of $\set{r\in\Runs\mid\mu_{B}(\Acc(r)) = 1 }$ as 
$g^{-1}(1)$. This lays the basis for 
\begin{proposition}
  \cite[Proposition 42]{RandAutoInfTrees}
  For a \ac{PWA} $\mathcal{A}$ and a tree $t$ holds
  \begin{equation*}
    \mathcal{A}\text{ accepts }t
    \text{ iff }
    \int f_{\mathcal{A}} d\mu_{t}\otimes\mu_{B} = 1.
  \end{equation*}
  \label{prop:pwabyf}
\end{proposition}
\begin{proof}
  Initially, we quote the following lemma:
  \begin{lemma}
    \cite[Lemma 40]{RandAutoInfTrees} Let $\tuple{\Omega,\mathcal{F},\mu}$ be
    a probability space and $f$ a measureable function from $\Omega$ to
    $\interval{0,1}$, then $\int_{\Omega}f d\mu = 1$ if and only if 
    $\mu(f^{-1}(1)) = 1$.
    \label{lem:almosteverywhere}
  \end{lemma}
  Thus, we can derive the following equivalences:
  \begin{align*}
    \mathcal{A}\text{ accepts }t
     &\text{ iff }\mu_{t}(g^{-1}(1)) = 1&\text{semantic of }\mathcal{A}\\
    &\text{ iff }\int_{\Runs} g d\mu_{t} = 1
     &\text{Lemma \ref{lem:almosteverywhere}}\\
    &\text{ iff }\int_{\Runs}\int_{\Paths} f_{\mathcal{A}} d\mu_{B} d\mu_{t}
     &\text{Definition of }g\\
    &\text{ iff }\int_{\Runs\times\Paths}f_{\mathcal{A}}d\mu_{B}\otimes\mu_{t}.
     &\text{Tonelli's Theorem \cite[Theorem 23.6]{Bauer}}
  \end{align*}
\end{proof}
We proceed by defining an equivalent \ac{WDTA} for a given \ac{PWA}, yielding
\begin{theorem}[PWA Inclusion]
  For any \ac{PWA} $\mathcal{A}$ exists a choiceless \ac{WDTA} $\mathcal{C}$
  such that the languages of $\mathcal{A}$ and $\mathcal{C}$ are equivalent.
\end{theorem}
\begin{proof}
  We provide for a given \ac{PWA} 
  $\mathcal{A}$
  the definition of the equivalent \ac{WDTA} $\mathcal{C}$ as
  \begin{definition}
    For any \ac{PWA} 
    $\mathcal{A} = \tuple{Q, q_{0}, D, \Sigma, B, \Delta, \delta, F}$ define a
    \ac{WDTA}
    \begin{equation*}
      \mathcal{C} = \tuple{Q, q_{0}, D, \Sigma, \Delta', F}
    \end{equation*} 
    such that there exists one generator $G_{\sigma}^{q}$ for every pair of 
    $\sigma\in\Sigma$ and $q\in Q$ and
    \begin{equation*}
      \Delta' = \set{
        \tuple{q,\sigma,G_{\sigma}^{q}}:
          \text{ for all }q\in Q,\sigma\in\Sigma
      }
      \text{ and }
      G_{\sigma}^{q}(p, d) = B(d)\cdot\sum\limits_{
        \substack{\tau\in\Delta\\\tau(d) = p}}\delta(\tau).
    \end{equation*} 
  \end{definition}
  We examine the unique run $r$ of $\mathcal{C}$ on any tree 
  $t:D\rightarrow\Sigma$ and the measure $\mu_{r}$ it defines on 
  $\mathcal{B}(Q\times D)$. We claim that 
  $\mu_{r}(\Acc\interval{Q}(F)) =  $ if and only if 
  $\int_{\Runs\times\Paths}f_{\mathcal{A}}^{t}d\mu_{t}\otimes d\mu_{B} = 1$ 
  which induces by Proposition \ref{prop:pwabyf} the equivalences of the 
  languages of $\mathcal{A}$ and $\mathcal{C}$.

  Therefore, we initiall define
  \begin{equation*}
    h_{p}:\Paths\rightarrow\interval{0,1}\text{ with }
      h(p) = \int_{\Runs}f_{\mathcal{A}}^{t}(\cdot, p).
  \end{equation*}
  Again, by Tonelli's Theorem \cite{Bauer}, we obtain
  \begin{equation*}
    \int_{\Runs\times\Paths}f_{\mathcal{A}}^{t}d\mu_{t}\otimes d\mu_{B} = 1
    \text{ if and only if }\int_{\Paths}h d\mu_{B} = 1.
  \end{equation*}
  We argue that 
  \begin{equation*}
    \mu_{r}(\cyl(\tuple{q_{1}, d_{1}}\dots\tuple{q_{n}, d_{n}}))
    \text{ coincides with }\int_{p\in\cyl(d_{1}\dots d_{n})}\mu_{t}(
    R^{d_{1}\dots d_{n}}_{q_{1}\dots q_{n}})d\mu_{B}
  \end{equation*} where $R^{d_{1}\dots d_{n}}_{q_{1}\dots q_{n}} = \set{
    r\in\Runs\mid r(d_{i}) = q_{i}\text{ for }1\leq i\leq n}$ by
  \begin{align*}
    \mu_{r}(\cyl(\tuple{q_{1}, d_{1}}\dots\tuple{q_{n}, d_{n}})) &=
      \prod\limits_{0\leq i\leq n-1}\tuple{B(d_{i+1})\cdot\sum\limits_{
        \substack{\tau\in\Delta\\\tau(d_{i+1}) = q_{i+1}}}\delta(\tau)}\\
    &=\prod\limits_{0\leq i\leq n-1}B(d_{i+1})\cdot\prod
        \limits_{0\leq i\leq n-1}\sum\limits_{\substack{
        \tau\in\Delta\\\tau(d_{i+1}) = q_{i+1}}}\delta(\tau)\\
    &=\mu_{B}(\cyl(d_{1}\dots d_{n}))\cdot\mu_{t}(
        R^{d_{1}\dots d_{n}}_{q_{1}\dots q_{n}})\\
  \end{align*}
  because the term
  \begin{equation*}
    \prod\limits_{0\leq i\leq n-1}\sum\limits_{\substack{
    \tau\in\Delta\\\tau(d_{i+1}) = q_{i+1}}}\delta(\tau)
  \end{equation*} 
  describes the probability that $\delta$ chooses while moving along
  $d_{1}\dots d_{n}$ those transitions that ensure a state sequence  of
  $q_{1}\dots q_{n}$. Observing now that
  \begin{equation*}
    \mu_{r}(\Acc\interval{Q}(F)) = 
    \int_{p\in\Paths}\mu_{t}(\set{r\in\Runs\mid r(p)\in\Acc(Q)}) d\mu_{B} = 
    \int_{\Paths} h\mu_{B}
  \end{equation*}
  implies the claim and therefore concludes the proof.
\end{proof}
The concept of \acp{PWA} allows to define an interesting tree language.
\begin{example}
  \cite[Proposition 43]{RandAutoInfTrees}
  For a given \ac{PBA} $\mathcal{P} = \tuple{Q, q_{0}, \Sigma, \delta, F}$ and
  a blueprint $B:D\rightarrow\interval{0,1}$ we define an associated language 
  $\mathcal{L}_{\mathcal{P}}^{B}$. This language contains all trees $t$ such 
  that the set of branches in $t$ which are almost-surely accepted by 
  $\mathcal{P}$ holds a $\mu_{B}$-measure of $1$. The idea is to define 
  transitions $\tau_{q}$ for every two $q\in Q$ with $\tau_{q}(d) = q$ for 
  every $d\in D$. And for a state $p$ and a letter $\sigma$ the transition 
  $\tau_{q}$ is chosen with probability $\delta(p, \sigma, q)$. Then, every run
  contains one possible execution of $\mathcal{P}$ on every path of the tree.
  When, translated into the equivalent \ac{WDTA} we obtain transitions of the
  form
  \begin{equation*}
    \tuple{q, \sigma, G}\text{ with }G(p,d) = \delta(q,\sigma, p)\cdot B(d).
  \end{equation*}
  Therefore, along one particular path the run-tree of $\mathcal{P}$ unfolds
  where every movement is scaled with $B(d)$ (see Figure 
  \ref{fig:pwapbaallpaths} for an illustration).
\end{example}
\begin{drawing}
  \caption{Illustration of a \ac{PWA} which simulates a \ac{PBA} on all paths. 
  In $(a)$ we picture some of the parallel executed runs with one path 
  particularly marked. On this path every run executes one possible run of the
  \ac{PBA}; therefore, all runs are interconnected on this path by executing 
  different state sequences (see $(b)$). When translated into the equivalent
  \ac{WDTA} along this path the complete run-tree of the associated
  \ac{PBA} is executed (marked by the colored path in $(c)$).}
  \label{fig:pwapbaallpaths}
  \begin{center}
    \includegraphics{tikz/parallelpbas.pdf}
  \end{center}
\end{drawing}

\subsection{\aclp{POMDP}}
In the following we want to examine a very interesting observation, namely that
any run of a \ac{WDTA} effectively is an unrollment of a transition system 
which is induced by a tree $t$. This behavior appears very similar to the 
concept of \acp{MDP} where the strategy of the actor unrolls the transition 
system.  Indeed, we establish a very deep connection between \acp{POMDP}. 
Initially, we show that \acp{WDTA} can be used to model \acp{POMDP} where trees 
are interpreted as strategies. Furthermore, we use the mechanism of \acp{POMDP} 
to establish decideability results for algorithmic questions about \acp{WDTA},
e.g. deciding emptiness, or respectively deduce undecideability results. This 
allows us to reveal intriguing connections between tree automata and 
\acp{POMDP}; for example the fact that alternation in tree automata models 
partial observability in \acp{MDP}.
\begin{theorem}
  For every \ac{POMDP} $\mathcal{M}$ exists a choiceless \ac{WDTA}-skeleton 
  $\mathcal{S}$ such that strategies for $\mathcal{M}$ when used as input
  for $\mathcal{S}$ induce equivalent probability spaces on the executions of 
  $\mathcal{M}$ and state sequences of $\mathcal{S}$.
  \label{thm:POMDPequivWDTA}
\end{theorem}
\begin{proof}
  Let $\mathcal{M} = \tuple{S, A, \tuple{\tau_{a}}_{a\in A}, s_{0}, \sim}$ be a
  \ac{POMDP}. We can extract the possible observations in $\mathcal{M}$ and
  gather them as $O = \set{\interval{s}_{\sim}\mid:s\in S}$. A strategy for
  $\mathcal{M}$ therefore is only dependent on the sequence of observations up
  to the current state of play, i.e. a word in $u\in O^{*}$. Fixing the
  set of directions to $O$ and the alphabet to $A$ we get $O$-ary $A$-trees as
  equivalent objects to strategies for \ac{POMDP} $\mathcal{M}$. This leads us 
  to 
  \begin{definition}
    For $\mathcal{M} = \tuple{S, A, \tuple{\tau_{a}}_{a\in A}, s_{0}, \sim}$
    with $O = \set{\interval{s}_{\sim}: s\in S}$ define
    \begin{equation*}
      \mathcal{A} = \tuple{S, s_{0}, O, A, \Delta}
    \end{equation*}
    where
    \begin{equation*}
      \Delta = \set{
        \tuple{s, a, G_{s}^{a}}:\text{for all }s\in S\text{ and }a\in A
      }\text{ with }
      G_{s}^{a}(s', o) = \begin{cases}
        \tau_{a}(s, s')&\text{if }o = \interval{s'}_{\sim},\\
        0              &\text{otherwise.}
      \end{cases}
    \end{equation*}
  \end{definition}
  Thus, from the current state those states with observation $o\in O$ are sent
  in direction $o$. This allows us to consider only the effective part of the 
  unique run $r$ on a tree $t$; that is the weighted part. Precisely, any state 
  sequence $u\in S^{*}$ induces a unique associated observation sequence 
  $\interval{u}_{\sim}\in O^{\size{u}}$. By definition of all generators any
  path along a pair $\tuple{s, o}$ such that $o\neq\interval{s}_{\sim}$ is 
  awarded with a probability of $0$ rendering for any word 
  $v = \tuple{s_{1}, o_{1}}\dots\tuple{s_{n}, o_{n}}\in\tuple{S\times O}^{*}$ 
  such that there is $1\leq i\leq n$ with $o_{i}\neq\interval{s_{i}}_{\sim}$
  $\mu_{r}(\cyl(v)) = 0$. Concludingly, we get
  \begin{equation}
    \mu_{r}(\cyl(\tuple{s_{1},o_{1}}\dots\tuple{s_{n},o_{n}})) =
    \begin{cases}
      \prod_{0\leq i\leq n-1}\tau_{t(o_{1}\dots o_{i})}(s_{i}, s_{i+1})
        &\text{if }\interval{s_{i}}_{\sim} = o_{i}\text{ for }1\leq i\leq n,\\
      0 &\text{otherwise}.
    \end{cases}
    \label{eq:wdtapomdp}
  \end{equation}
  Notably, we can define a synchronized subdomain 
  $D\subseteq \tuple{S\times O}^{*}$, i.e. those words such that the second 
  component always coincides with the equivalence class of the first component.
  And reduce $r$ to $D$ and still obtain a viable probability space from $r$.
  Furthermore, since the first component uniquely identifies the second 
  component this can be bijected to $S^{*}$. Hence we consider $r$ and its 
  induced measure as measure on $\mathcal{B}(S)$ rather than on 
  $\mathcal{B}(S\times O)$. And, using Equation \ref{eq:wdtapomdp}
  allows us to conclude that any object $t:O^{*}\rightarrow A$ yields the same
  measure on $\mathcal{B}(S)$ for \ac{WDTA}-sceleton $\mathcal{S}$ (if 
  interpreted as tree) and \ac{POMDP} $\mathcal{M}$ (if interpreted as 
  strategy).
\end{proof}

On the other hand, we want to relate \acp{WDTA} to \acp{POMDP}. Especially, we 
obtain arguments to solve algorithmic questions via the correspondent questions
for \acp{POMDP}. Example \ref{ex:pbaaspomdp} introduced the idea to consider 
\acp{PBA} as \acp{POMDP} with one equivalence class (for the consistency of
generated word). We adapt this idea to obtain a comparable equivalence. Namely,
we construct a \ac{POMDP} for a given \emph{choiceless} \ac{WDTA} such that any 
run $r$ of \ac{WDTA} is the unrollment of the \ac{POMDP} if the tree is used as 
strategy. This allows to formulate the emptiness problem of a choiceless 
\ac{WDTA} as strategy synthesis question for \acp{POMDP}. The choices of the 
player (i.e.  the strategy) are which letter is used at which position of 
the tree. Hence, the player effectively constructs with his choices the tree 
$t$ by providing for every situation the corresponding letter. We define
\begin{definition}[Run Building Game]
  For a choiceless \ac{WDTA}-sceleton
  $\mathcal{A} = \tuple{Q, q_{0}, D, \Sigma, \Delta}$ we define the set of 
  actions for the player as $\Sigma$. The states of the game correspond with 
  the positions a run can stay in and a dedicated initial position, i.e. 
  $S = \tuple{Q\times D}\cup\set{q_{0}}$. In order to obtain from a strategy a 
  valid tree we tinker with the observability of the states, namely we restrict 
  the player to only observe the directions and not the states. Hence, we 
  define $\sim\subseteq\tuple{Q\times D}^{2}$ such that
  \begin{equation*}
    \tuple{q, d}\sim\tuple{p, b}\text{ if and only if }d = b.
  \end{equation*}
  The actions of the player lead to the movement probabilities induced by the
  generators associated with the current state and the player's choice. 
  Firstly, there is one unique generator $G_{\sigma}^{q}$ such that 
  $\tuple{q,\sigma,G_{\sigma}^{q}}\in\Delta$. Secondly, we define 
  $\tau_{\sigma}$ for every $\sigma\in\Sigma$ such that
  \begin{equation*}
    \tau_{\sigma}(\tuple{q,d},\tuple{p,b}) = G_{\sigma}^{q}(p,b)
  \end{equation*}
  and, additionally,
  \begin{equation*}
    \tau_{\sigma}(q_{0},\tuple{q,d}) = G_{\sigma}^{q_{0}}(q,d).
  \end{equation*}
  Concludingly, we obtain an associated \ac{POMDP}
  \begin{equation*}
    \mathcal{M} = \tuple{
      Q\times D\cup \set{q_{0}}, \Sigma, 
        \tuple{\tau_{\sigma}}_{\sigma\in\Sigma}, q_{0}
    }.
  \end{equation*}
\end{definition}
In order to prove the viability of this game definition we show that strategies
and trees are both interchangeable objects and define directly a measure on
$\mathcal{B}(Q\times D)$ in $\mathcal{M}$ and indirectly by associating the 
corresponding unique run a measure on $\mathcal{B}(Q\times D)$ and these 
measures coincide.
\begin{theorem}
  For any object $t:D^{*}\rightarrow\Sigma$ the measures $\mu_{r}$ on 
  $\mathcal{B}(Q\times D)$ for the unique run $r$ on $t$ of $\mathcal{A}$ and
  the measure $\mu_{t}$ on $\mathcal{B}(Q\times D)$ for the strategy $t$ in
  $\mathcal{M}$ coincide.
\end{theorem}
\begin{proof}
  Firstly, we observe that by construction of $\tau_{\sigma}$ every play can
  \emph{never} return to $q_{0}$. Additionally, by definition of strategies for
  \acp{POMDP} the initial state is encoded implicitly (since its unique we can
  omit its explicit occurence in the history of a game). This allows us to 
  restrict any observation to those strategies that are defined on histories in
  the $Q\times D$-part of $\mathcal{M}$. Furthermore, we recall that it 
  suffices to show the equivalence of both measures on the generating objects, 
  i.e. on all $\cyl(u)$ for all $u\in\tuple{Q\times D}^{*}$, since these values 
  uniquely determine the extended measures on $\mathcal{B}(Q\times D)$. We fix 
  one object $t:D^{*}\rightarrow\Sigma$ and the unique run $r$ of $\mathcal{A}$ 
  on $t$. We fix one 
  $u = \tuple{q_{1}, d_{1}}\dots\tuple{q_{n}, d_{n}}\in\tuple{Q\times D}^{*}$. 
  We obtain
  \begin{align*}
    \mu_{t}(\cyl(u)) &= \tau_{t(\epsilon)}(q_{0}, \tuple{q_{1}, d_{1}})\cdot
      \prod\limits_{1\leq i < n}\tau_{t(d_{1}\dots d_{i})}(
        \tuple{q_{i}, d_{1}}, \tuple{q_{i+1}, d_{i+1}})&
          \text{semantic of }\mathcal{M}\\
    &= G_{t(\epsilon)}^{q_{0}}(q_{1}, d_{1})\cdot\prod\limits_{1\leq i < n}
      G_{t(d_{1}\dots d_{i})}^{q_{i}}(q_{i+1}, d_{i+1})&
          \text{definition of }\tuple{\tau_{\sigma}}_{\sigma\in\Sigma}\\
    &= \mu_{r}(\cyl(u))&\text{semantic of }\mathcal{S}.
  \end{align*}
  This yields the claimed equality of the generating objects and therefore by
  unique extension the equivalence of $\mu_{t}$ and $\mu_{r}$.
\end{proof}

\subsection{Consequences}
Modelling \acp{PBA} and probabilistic word automata with stronger acceptance 
conditions entail immediately undecideability results. Namely, Theorem 
\ref{thm:} allows to deduce the undecideability of the emptiness 
problem for \acp{WDTA} with positive accepatance of an associated 
Büchi-condition (and therefore also for Rabin-, Parity- and Muller-conditions,
since these can model Büchi-conditions) and by Corollary 
\ref{cor:emptinessstrongalmostsureprob} also almost-sure acceptance of strong
acceptance conditions (alternatively one can use the translation from 
\acp{POMDP} to \acp{WDTA} as equivalent argument)
\begin{corollary}
  The emptiness problem (even for choiceless) \acp{WDTA} is undecideable for
  positive acceptance of Büchi-, Rabin-, Parity- and Muller-conditions and
  almost-sure acceptance of Rabin-, Parity- and Muller-conditions.
\end{corollary}
The translation from choiceless \acp{WDTA} to \acp{POMDP} allows us to use the 
computation of strategies which almost-surely satisfy an associated 
Büchi-condition to solve the emptiness problem for choiceless \acp{WDTA}
\begin{corollary}[Emptiness Almost-Sure Büchi WDTA]
  The emptiness problem for a choiceless \ac{WDTA} with almost-sure acceptance 
  measure of a Büchi condition is decideable.
  \label{cor:emptiness}
\end{corollary}

On the other hand, we obtain for uni-directional \acp{WDTA} a decision 
procedure for the emptiness problem even for Parity-conditions. The central 
idea is to drop the partial observability from the representation since there
is only one weighted state at each position. Thus, the restriction on 
observability is not necessary to ensure the interchangeability of a strategy 
and a tree. Hence, we obtain
\begin{corollary}[Emptiness Almost-Sure Uni-Directional WDTA]
  \cite[Corollary 47]{RandAutoInfTrees}
  The emptiness problem for an uni-directional \ac{WDTA} with almost-sure
  acceptance measure of a Parity-condition can be decided.
\end{corollary}
\begin{proof}
  We translate a given uni-directional \ac{WDTA} 
  $\mathcal{A} = \tuple{Q, q_{0}, D, \Sigma, \Delta, \parity}$ to a \ac{MDP}
  \begin{equation*}
    \mathcal{M} = \tuple{Q\times D\cup\set{q_{0}}, q_{0}, 
      \mathcal{G}_{\mathcal{A}}, \tuple{\tau}_{G\in\mathcal{G}_{\mathcal{A}}}}
    \text{ with }\tau_{G}(\tuple{q, d}, \tuple{p, b}) = G(\tuple{p, b}).
  \end{equation*}
  By an inductive argument we can exploit the uni-directionality to obtain that
  for a strategie $s$ we can state that for any $d_{1}\dots d_{n}\in D^{*}$ 
  there is at most one sequence $q_{1}\dots q_{n}\in Q^{*}$ such that
  $q_{0}\tuple{q_{1}, d_{1}}\dots\tuple{q_{n}, d_{n}}$ is a possible play under 
  $s$ in $\mathcal{M}$. Fix these sequences in $D^{*}$ as $P$. Moreover, $s$ 
  induces a tree $t$ by fixing for every $d_{1}\dots d_{n}\in P$ and the
  unique $q_{1}\dots q_{n}$ such that 
  $q_{0}\tuple{q_{1}, d_{1}}\dots\tuple{q_{n}, d_{n}}$ describes a possible 
  play in $\mathcal{M}$ under $s$ and setting
  $t(d_{1}\dots d_{n})$ to one $\sigma\in\Sigma$ such that
  $\tuple{q_{n},\sigma, s(\tuple{q_{1}, d_{1}}\dots\tuple{q_{n}, d_{n}})}
    \in\Delta$. All other elements in $t$ are set arbitrarily. We observe that 
  the unrollment of $\mathcal{M}$ under $s$ coincides with the run on $t$ that 
  takes those transitions $s$ chooses its generators from. Additionally, we can
  obtain for any run $r$ of $\mathcal{A}$ on a tree $t$ a corresponding 
  strategy $s$ with $s(u) = r(u)$ for all $u\in \tuple{Q\times D}^{*}$. 
  Concludingly, using Theorem \ref{thm:mdpstratsynthesis} on this $\mathcal{M}$
  and the Parity-condition $\parity$ (applied to the state component of the 
  states in $\mathcal{M}$) yields the postulated decision procedure.
\end{proof}

Furthermore, we use the modelling of different automata in \acp{WDTA} to 
separate recognizable classes by differently restricted \acp{WDTA}. Namely,
we state
\begin{proposition}
  The class of languages recognizable with uni-directional \acp{WDTA} with any
  acceptance condition and any acceptance measure is incomparabel with 
  the class of languages recognizable with choiceless 
  \acp{WDTA} with Büchi-condition and almost-sure acceptance measure.
\end{proposition}
\begin{proof}
  This result follows from the incomparability of the classes of languages that
  are recognizable by a \ac{PBA} with almost-sure acceptance and 
  $\omega$-regular languages (Theorem \ref{thm:regalmostsureincomparable}) and
  the equivalences stated in Theorem \ref{thm:omegaregaswdta} and Theorem 
  \ref{thm:pbaaswdta} for uni-directional \acp{WDTA} to 
  $\omega$-regular languages and choiceless \acp{WDTA} to \acp{PBA} (for 
  singleton direction sets) respectively.
\end{proof}

For \acp{PBA} we obtained that more expressive acceptance conditions allows to
move from positive acceptance to almost-sure acceptance. Unfortunately, this 
does not translate to choiceless \acp{WDTA}:
\begin{proposition}
  There exists a language that is accepted by a choiceless \ac{WDTA} with a
  positive acceptance of a Büchi-condition but which is not accepted by any
  choiceless \ac{WDTA} with a Parity-condition.
\end{proposition}
\begin{proof}
  We define $\mathcal{L}_{\exists a}$ as the language of all trees with
  directions $\set{0,1}$ over the alphabet $\set{a,b}$ that do contain an $a$.
  First, we show that this language can be accepted by a choiceless Büchi
  \ac{WDTA} with positive acceptance. Therefore, we construct a \ac{WDTA} with 
  two states $q_{a}, q_{b}$ where $q_{b}$ is the initial state. The final state 
  is $q_{a}$ and we distribute uniformely over both branches $q_{b}$ until an 
  $a$ occurs where the automaton distributes uniformely the state $q_{a}$ 
  regardless of the read letter, thus $q_{a}$ is a positive sink-state. Any 
  tree that is accepted does necessarily contain an $a$ since it is the only 
  chance to produce an acceptance subtree and conversely, if a tree does 
  contain an $a$ there is a finite path of length $n$ towards the subtree 
  rooted at this occurence of $a$, hence in the run of the automaton on this 
  tree there is an accepted subtree which is reached with probability 
  $(\frac{1}{2})^{n} > 0$ rendering the run accepting for this tree.

  On the other hand we show that there is no choiceless \ac{WDTA} with an
  almost-sure Parity-condition $\parity$ that precisely accepts 
  $\mathcal{L}_{\exists a}$. For this we prove some lemmas which provide some
  basic insights in the semantic of runs.
  \begin{lemma}
    For any run $r$ of a \ac{WDTA} $\mathcal{A}$ with a Parity-condition 
    $\parity$ on a tree $t$ we can consider subruns $r_{u}$ for 
    $u\in\tuple{Q\times D}^{*}$ with $r_{u}(w) = r(u\cdot w)$ for 
    $w\in\tuple{Q\times D}^{*}$ and state for any 
    $\set{v_{1},\dots, v_{n}}\subseteq\tuple{Q\times D}^{*}$ such that
    $\cyl(v_{i})$ for $1\leq i\leq n$ partitions $\tuple{Q\times D}^{\omega}$
    \begin{equation*}
      \mu_{r}(\Acc\interval{Q}(\parity)) = \sum\limits_{1\leq i\leq n}
        \mu_{r}(\cyl(v_{i}))\cdot\mu_{r_{v_{i}}}(\Acc\interval{Q}(\parity)).
    \end{equation*}
    \label{lem:subrunsum}
  \end{lemma}
  \begin{proof}
    Since Parity-conditions are prefix-independent and we partition 
    $\tuple{Q\times D}^{\omega}$ into $\cyl(v_{i})$ for $1\leq i\leq n$ we can 
    also partition $\Acc\interval{Q}(\parity)$ into $n$ sets 
    $\Acc_{i} = \Acc\interval{Q}(\parity)\cap\cyl(v_{i})$ for $1\leq i\leq n$.
    Therefore, we state
    \begin{equation*}
      \mu_{r}(\Acc\interval{Q}(\parity)) = \sum\limits_{1\leq i\leq n}
        \mu_{r}(\Acc_{i}) = \sum\limits_{1\leq i\leq n}
        \mu_{r}(\cyl(v_{i}))\cdot\mu_{r_{v_{i}}}(\Acc\interval{Q}(\parity)).
    \end{equation*}
  \end{proof}
  \begin{lemma}
    A run $r$ of a \ac{WDTA} $\mathcal{A}$ with a Parity-condition $\parity$ on 
    a tree $t$ is almost-sure accepted if and only if for all 
    $u\in\tuple{Q\times D}^{+}$ with $\mu_{r}(\cyl(u)) > 0$ holds
    \begin{equation*}
      \mu_{r_{u}}(\Acc\interval{Q}(\parity)) = 1.
    \end{equation*}
    \label{lem:subrun1}
  \end{lemma}
  \begin{proof}
    First consider that $\mu_{r_{u}}(\Acc\interval{Q}(\parity)) = 1$ for all
    $u\in\tuple{Q\times D}^{+}$, then choose an arbitrary set 
    $\set{u_{1}, \dots, u_{n}}\subseteq\tuple{Q\times D}^{+}$ such that
    $\cyl(u_{i})$ for $1\leq i\leq n$ partitions $\tuple{Q\times D}^{\omega}$.
    Therefore, we see that $\mu_{r}(\cyl(\cdot))$ describes a probability 
    measure on $\set{u_{1}, \dots, u_{n}}$. This implies that
    \begin{equation*}
      \mu_{r}(\Acc\interval{Q}(\parity)) = \sum\limits_{1\leq i\leq n}
        \mu_{r}(\cyl(u_{i}))\cdot\underbrace{\mu_{r_{u_{i}}}(
        \Acc\interval{Q}(\parity))}_{=1} = \sum\limits_{1\leq i\leq n}
        \mu_{r}(\cyl(u_{i})) = 1.
    \end{equation*}
    On the other hand, consider that there is one 
    $u = \tuple{q_{1}, d_{1}}\dots\tuple{q_{n}, d_{n}}\in\tuple{Q\times D}^{+}$
    with $\mu_{r}(\cyl(u)) > 0$ and 
    $\mu_{r_{u}}(\Acc\interval{Q}(\parity)) < 1$. We construct a set 
    \begin{equation*}
      R = \bigcup\limits_{0\leq i < n}\set{
        \tuple{q_{1}, d_{1}}\dots\tuple{q_{i}, d_{i}}\cdot\tuple{p, d}:
          \text{for all }p\in Q,d\in D\text{ with }
        \begin{aligned}
            &\text{either}&p\neq q_{i+1}\\
            &\text{or}&d\neq d_{i+1}&
        \end{aligned}
      }.
    \end{equation*}
    Notably, $\cyl(R\cup\set{u})$ is a partition of 
    $\tuple{Q\times D}^{\omega}$ and again $\mu_{r}(\cyl(\cdot))$ a probability
    distribution on $R\cup\set{u}$. Therefore we obtain
    \begin{align*}
      \mu_{r}(\Acc\interval{Q}(\parity)) &= \sum\limits_{w\in R}
        \mu_{r}(\cyl(w))\cdot\mu_{r_{w}}(\Acc\interval{Q}(\parity))\\
      &+ \underbrace{\mu_{r}(\cyl(u))}_{>0}\underbrace{\mu_{r_{w}}(
        \Acc\interval{Q}(\parity))}_{<1} < 1.
    \end{align*}
  \end{proof}
  
  In the following we consider three trees $t_{0}, t_{1}, t_{b}$ where every 
  letter in $t_{i}$ is $b$ except for $t_{i}(i) = a$ for $i = 0,1$ and $t_{b}$ 
  only contains $b$. Assume there is a choiceless \ac{WDTA} $\mathcal{A}$ with 
  an almost-sure acceptance of a Muller-condition to accept 
  $\mathcal{L}_{\exists a}$. The fix the unique runs of $\mathcal{A}$ on 
  $t_{0},t_{1}, t_{b}$ as $r_{0}, r_{1}, r_{b}$ respectively. Since 
  $\mathcal{A}$ is choiceless and 
  $t_{0}(\epsilon) = t_{1}(\epsilon) = t_{b}(\epsilon) = b$ we get 
  $r^{0}(\epsilon) = r^{1}(\epsilon) = r^{b}(\epsilon)$. We can fix
  $T_{0}$ and $T_{1}$ with $T_{i} = \set{\tuple{q, i}:\text{for }q\in Q}$ 
  for $i = 1,2$. Observably, $\cyl(T_{0})\cup\cyl(T_{1})$ parititons 
  $\tuple{Q\times D}^{\omega}$. Since $r^{i}$ is almost-surely accepting we use
  Lemma \ref{lem:subrun1} to get that 
  $\mu_{r^{i}_{u}}(\Acc\interval{Q}(\parity)) = 1$ for all $u\in T_{1-i}$ 
  ($i = 1,2$). Therefore, we get with Lemma \ref{lem:subrunsum}
  \begin{align*}
    \mu_{r^{b}}(\Acc\interval{Q}(\parity)) &= \sum_{v\in T_{0}}
      \mu_{r^{b}}(\cyl(v))\cdot\mu_{r^{b}_{v}}(\Acc\interval{Q}(\parity))\\
    &+ \sum_{v\in T_{0}}
      \mu_{r^{b}}(\cyl(v))\cdot\mu_{r^{b}_{v}}(\Acc\interval{Q}(\parity))\\
    &= \sum_{\substack{v\in T_{0}\\\text{s.t. }\mu_{r^{b}_{u}}(\cyl(v)>0)}}
      \mu_{r^{b}}(\cyl(v))\cdot\overbrace{\mu_{r^{b}_{v}}(
        \Acc\interval{Q}(\parity))}^{=\mu_{r^{1}_{v}}(\dots)=1}\\
    &+ \sum_{\substack{v\in T_{1}\\\text{s.t. }\mu_{r^{b}_{u}}(\cyl(v)>0)}}
      \mu_{r^{b}}(\cyl(v))\cdot\underbrace{\mu_{r^{b}_{v}}(
        \Acc\interval{Q}(\parity))}_{=\mu_{r^{0}_{v}}(\dots)=1}\\
    &= 1.
  \end{align*}
  Thus, $r^{b}$ is an accepting run although 
  $t_{b}\notin\mathcal{L}_{\exists a}$.
\end{proof}

\begin{proposition}
  The class of languages recognizable with \acp{WDTA} almost-sure acceptance
  is a proper superset of languages recognizable with choiceless \acp{WDTA}
  with almost-sure acceptance.
\end{proposition}

It is a very interesting result that alternation in non-weighted tree automata
does not increase the general expressiveness (see \cite{SimAltTreeAuto}).
This result does unfortunately not translate unconstraint to the weighted case.


\begin{corollary}
  For Büchi conditions there are deterministic \acp{WDTA} that do not have an
  equivalent uni-directional \ac{WDTA} with any acceptance measure.
\end{corollary}
