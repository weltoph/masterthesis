\chapter{Proof of Theorem \ref{thm:StratPOSG}}
In the following we consider \acp{POSG} in more detail. Initially, we 
modularise some notions by de-coupling an arena and the objective and initial 
state of the game. Also we generalize our definition by allowing \eve{} and 
\adam{} to be differently informed (by $\sim_{E}$ and $\sim_{A}$ respectively):
We consider an arena
\begin{equation*}
  G = \tuple{S, E, A, \tuple{\tau_{e,a}}_{e\in E, a\in A}, \sim_{E}, \sim_{A}}.
\end{equation*}
A \ac{POSG} $\mathcal{G}$ forms by fixing an initial state $s_{0}\in S$ and an 
objective $\Acc$ and setting $\mathcal{G} = \tuple{G, s_{0}, \Acc}$.  
Additionally, we introduce the notion of games with multiple initial locations 
as $\mathcal{G} = \tuple{G, B, \Acc}$ for $B\subseteq S$ such that in an 
initial step \adam{} may choose any $b\in B$ and subsequently \eve{} and 
\adam{} compete in the game $\mathcal{G}_{b} = \tuple{G, b, \Acc}$. Naturally, 
\eve{} has an almost-surely (positively) winning strategy in $\mathcal{G}_{B}$ 
if and only if she has an almost-surely (positively) winning strategy in 
$\mathcal{G}_{b}$. In the following we also consider conditions which are 
evaluated within finitely many steps (in contrast to Muller-, Rabin-, Parity-
or BÃ¼chi-conditions), namely
\begin{description}
  \item [Reachability-condition:] for a set $R\subseteq S$ define
    \begin{equation*}
      \Acc_{\reach}(R) = \tuple{S\setminus R}^{*}RS^{\omega},
    \end{equation*}
  \item [Safety-condition:] for a set $Z\subseteq S$ we define
    \begin{equation*}
      \Acc_{\safety}(Z) = Z^{\omega}.
    \end{equation*}
\end{description}

\section{Finite Steps to Reachability}
We introduce an observation about winning games with associated 
Reachability-condition:
\begin{proposition}
  Given $B\subseteq S$ and $R\subseteq S$ such that \eve{} has a positively
  winning strategy $f$ in the Reachability-game $\mathcal{G}=\tuple{G, B, R}$.
  Then, there is an $N\in\mathbb{N}$ and some probability $\epsilon_{B} > 0$ 
  that bounds from below the probability of the event that a state in $R$ is 
  visited in $\mathcal{G}_{B}$ if \eve{} plays $f$.
\end{proposition}
\begin{proof}
  We fix the notion $p_{N}^{g_{N}, s}$ as the probability of reaching $R$ in 
  less than $N$ steps if \adam{} initially chose $s$ and plays according to 
  $g_{N}$. From this we derive $p_{N}^{g_{N}} = 
  \min_{s\in B}\set{p_{N}^{g_{N}, s}}$ and claim that there is one 
  $N_{0} > 0$ that renders $p_{N}^{g_{N}} > 0$ for all possible $g_{N}$. For 
  the sake of contradiction we assume this is not the case, i.e. for all $N$ 
  there is one strategy $g_{N}$ rendering $p_{N}^{g_{N}} = 0$. Since there 
  are infinitely many considered $N$ but only finitely many $s\in B$ 
  infinitely often $p_{N}^{g_{N}}$ becomes $0$ from starting in one 
  particular $b\in B$. Thus, we fix such a $b$ and obtain that for more and 
  more increasing values for $N$ there is always a strategy $g_{N}$ to obtain 
  $p_{N}^{g_{N}, b} = 0$. Moreover, we can claim this for every $N$ (since 
  the Reachability-condition can never be undone once it is achieved and 
  there is always a higher $N' > N$ for which \adam{} can avoid $R$ which 
  also holds in turn for $N$).

  Since there are only finitely possible decisions in $A$ for the game 
  $\mathcal{G}_{b}$ but we consider infinitely many strategies (for all $N>0$ 
  there is $g_{N})$) infinitely many must agree what to do in the initial 
  situation; say all these strategies make decision $c\in A$. For any 
  possible subsequent game situation, i.e. the game moved from $b$ to 
  one $s_{1},\dots, s_{n}\in S$ with $\tau_{f(\epsilon), c}(b, s_{i}) > 0$ 
  for all $1\leq i\leq n$, we know that $s_{1},\dots, s_{n}\not\in R$ since
  $p_{N}^{g_{N}, b} = 0$ for all these $g_{N}$. For every $1\leq i\leq n$ we 
  consider again infinitely many strategies (all $g_{N}$ with $N>1$ which 
  initially chose $c$; by choice of $c$ this is indeed an infinite collection
  of strategies). Since there are again only finitely many possible choices 
  we obtain by the same argument one choice $c'$ on which infinitely many 
  $g_{N}$ agree on. This argument can be iterated countably many times and we 
  may construct with the choices the strategies agree upon one particular 
  strategy, say $g$, which avoids $R$ all together. But for this one $g$ we
  can argue that $p_{N, b}^{g} = 0$ for all $N>0$. Naturally, playing $g$ 
  with an additional initial choice of $b$ renders $g$ winning against $f$ in
  the positive Reachability-game $\mathcal{G}_{B}$ contradicting the 
  prerequisite that $f$ is positively winning.

  Hence, we can assured the existence of $N_{0} > 0$ which bounds the number
  rounds any counter strategy may avoid $R$ in $\mathcal{G}_{B}$. Since there
  are only finitely many choices in a game up to $N_{0}$ rounds starting in
  any $s\in B$ we may fix these choices as (partial) strategies of \adam{} in a
  set $G_{s,N_{0}}$. Setting 
  $\epsilon_{B} = \min\set{p^{g}_{N_{0}}:g\in G_{s, N_{0}}}$ yields the desired 
  result.
\end{proof}

\section{Automaton-compatible strategies}
We introduce the notion of \emph{automaton-compatible} strategies. We define
\begin{equation*}
  \mathcal{T} = \tuple{Q, \Sigma_{E}\times \interval{S}_{\sim_{E}}, q_{0}, 
  q_{s}, \delta, \lambda}
\end{equation*}
where $\Sigma_{E}\times \interval{S}_{\sim_{E}}$ is the input alphabet, 
$q_{0}, q_{s}\in Q$ a start and a sink state respectively, 
$\delta:Q\times \Sigma_{E}\times \interval{S}_{\sim_{E}}\rightarrow Q$ a 
deterministic transition function and $\lambda:Q\rightarrow\Pot(\Sigma_{E})$ a
labelling of the states of $\mathcal{T}$. Additionally, we enforce
\begin{itemize}
  \item $\lambda(q) = \emptyset$ if and only if $q = q_{s}$,
  \item $\delta(q, \tuple{\sigma, x}) = q_{s}$ if and only if 
    $\sigma\not\in\delta(q)$ for all $q\in Q$, $\sigma\in\Sigma_{E}$ and 
    $x\in\interval{S}_{\sim_{E}}$.
\end{itemize}
This automaton $\mathcal{T}$ associates with any play $u\in S^{*}$ in 
$\mathcal{G}$ precisely one $q\in Q$ and moreover, a labelling $\lambda(q)$. 
Any strategy $f$ of \eve{} is considered compatible with $\mathcal{T}$ if for 
any play $u\in S^{*}$ \eve{} plays an action from the associated labelling. One
important automaton is associated with \eve{}'s knowledge of the current 
situation of the game, i.e. the states she consideres possible given her 
observations. In general, this knowledge expands beyond the observed 
equivalence class since the history might render certain states within the 
current equivalence class impossible to be the current state.
This induces one special automaton structure $\mathcal{K}$: Knowledge is 
encoded as sets of states \eve{} considers possible. Fix an initial knowledge 
$K_{0}\subseteq S$ such that $K_{0}\subseteq\interval{s}_{\sim_{E}}$ for one 
$s\in S$. Inductively, we construct for any sequence 
$u\in \interval{S}_{\sim_{E}}^{*}$ the current knowledge of \eve{} 
$\currK^{K_{0}}_{E}$. Initially holds 
$\currK^{K_{0}}_{E}(\interval{s_{0}}_{\sim_{E}}) = K_{0}$ 
and at every step the knowledge is updated by $\upK_{E}$ which computes all
possible results considering the available information: 
\begin{align*}
  \upK_{E}&(K, e, \interval{s}_{\sim_{E}})\\
  &= \set{
    t\in\interval{s}_{\sim_{E}}\mid \text{there is }o\in K\text{ and }a\in A
    \text{ s. t. }\tau_{e,a}(o, t) > 0
  }
\end{align*}
for the current knowledge $K$, the chosen action $e\in E$ of \eve{} and the 
following observation $\interval{s}_{\sim_{E}}$. Hence, we obtain inductively
\begin{equation*}
  \currK(u\cdot s) = \upK(\currK(u), e, \interval{s}_{\sim_{E}})
\end{equation*} 
where $e = f(u)$ is the choice of \eve{}'s strategy $f$. We define an 
associated (unlabelled) knowledge-automaton for \eve{} for a fixed initial 
knowledge $K_{0}$ and loosing knowledge $K_{s}$
\begin{equation*}
  \mathcal{T}_{\mathcal{K}} = \tuple{
    \Pot(S), E\times\interval{S}_{\sim_{E}}, K_{0}, K_{s}, \upK
  }.
\end{equation*}

\subsection{Automaton-Game Product}
For a given automaton
\begin{equation*}
  \mathcal{T} = \tuple{Q, \Sigma_{E}\times \interval{S}_{\sim_{E}}, q_{0}, 
  q_{s}, \delta, \lambda}
\end{equation*}
and arena 
\begin{equation*}
  G = \tuple{S, E, A, \tuple{\tau_{e, a}}_{e\in E, a\in A}, \sim_{E}, \sim_{A}}
\end{equation*}
we define a product
\begin{definition}
  Given $G$ and $\mathcal{T}$ as above, we define
  \begin{equation*}
    G\otimes\mathcal{T} = \tuple{S\times Q, E, A, 
    \tuple{\tau'_{e, a}}_{e\in E, a\in A}, \sim'_{E}, \sim'_{A}}
  \end{equation*}
  with
  \begin{equation*}
    \tau'_{e, a}(\tuple{s,q}, \tuple{z,p}) = \begin{cases}
      \tau_{e, a}(s, z)&\text{if }p = \delta(q, (e,\interval{z}_{\sim_{E}})),\\
      0&\text{otherwise},
    \end{cases}
  \end{equation*}
  and
  \begin{center}
    \begin{tabular}{lll}
      $\tuple{s, q}\sim'_{E}\tuple{z, p}$& if and only if & $s\sim_{A} z$ and 
        $q = p$,\\
      $\tuple{s, q}\sim'_{A}\tuple{z, p}$& if and only if & $s = z, q = p$.
    \end{tabular}
  \end{center}
  Note that $\sim'_{A}$ is the equality relation and therefore \adam{} is not
  restricted in his observations whatsoever. We say \adam{} is 
  \emph{perfectly informed}.
\end{definition}
We observe the following result:
\begin{lemma}
  \eve{} has a $\mathcal{T}$-compatible strategy in the Safety-game
  $\tuple{G, B, Z}$ if and only if she has a surely winning
  strategy in the Safety-game 
  $\tuple{G\otimes\mathcal{T}, B\times\set{q_{0}}, 
    S\times\tuple{Q\setminus\set{q_{s}}}}$.
  \label{lem:TembeddedG}
\end{lemma}
\begin{proof}
  By the definition of $\mathcal{T}$ any action that is not compatible with 
  $\lambda$ yields $q_{s}$ as a result. Moreover, $\mathcal{T}$ is a
  deterministic automaton, hence any strategy of \eve{} in $\tuple{G, B, Z}$ 
  that is $\mathcal{T}$-compatible can be used equally in 
  $\tuple{G\otimes\mathcal{T}, B\times\set{q_{0}}, 
    S\times\tuple{Q\setminus\set{q_{s}}}}$ since by compatibility with 
  $\mathcal{T}$ a movement to $q_{s}$ is not possible. On the other hand, we 
  may translate any strategy in $\tuple{G\otimes\mathcal{T}, 
  B\times\set{q_{0}}, S\times\tuple{Q\setminus\set{q_{s}}}}$ to 
  $\tuple{G, B, Z}$. Since $S\times\set{q_{s}}$ is avoided this strategy 
  clearly is $\mathcal{T}$-compatible.
\end{proof}

This allows us to deduce for a fixed $\mathcal{T}$
\begin{theorem}
  When \adam{} is perfectly informed, one can decide in time polynomial in 
  $2^{\size{S}}$ and polynomial in $Q$ whether \eve{} has a 
  $\mathcal{T}$-compatible strategy that is positively winning in the 
  Reachability-game $\tuple{G, B, R}$. If such a strategy exists, one can 
  construct one that uses memory of size polynomial in $\size{Q}$ and 
  exponential in $\size{S}$.
\end{theorem}
\begin{proof}
  We consider the knowledges (in the sense of $\mathcal{K}$) of \eve{} in the
  arena $G\otimes\mathcal{T}$. We observe that the associated 
  observation-relation $\sim'_{E}$ in $G\otimes\mathcal{T}$ makes the current
  state transparent to \eve{}. Therefore, it is sufficient to capture the set
  of states of $G$ that \eve{} considers possible and the unique current state
  of $\mathcal{T}$. Hence, knowledges can be encoded as elements in 
  $\Pot(S)\times Q$. We fix the largest subset $\mathbb{K}$ of these knowledges 
  of \eve{} and an associated mapping $\lambda:\mathbb{K}\rightarrow\Pot(E)$ 
  such that:
  \begin{itemize}
    \item for all $K\in\mathbb{K}$ holds that $K\cap S\times\set{q_{s}} = 
      \emptyset$, i.e. \eve{} avoids states beyond her Safety-region in 
      $G\otimes\mathcal{T}$ and
    \item for all $K\in\mathbb{K}$ it holds that
      \begin{equation*}
        \upK_{E}(K, e, \interval{s}_{\sim_{E}})\in
          \mathbb{K}\setminus\set{\emptyset}
      \end{equation*}
      for every $e\in\lambda(K)$, i.e. actions of \eve{} may not move her 
      outwards these \enquote{safe} knowledges.
  \end{itemize}
  Merging all elements of $\tuple{\Pot(S)\times Q}\setminus\mathbb{K}$ in 
  $K_{s}$ allows to obtain the associated automaton $\mathcal{T}_{\mathbb{K}}$
  with labelling $\lambda$. Considering the knowledge structures is sufficient
  for Reachability-conditions (cp. \cite{AlgorithmsForPOSG}). Again, we embed 
  $\mathcal{T}_{\mathbb{K}}$ into the arena and obtain
  \begin{lemma}
    \eve{} has a $\mathcal{T}$ compatible positively winning strategy in the
    Reachability-game $\mathcal{G} = \tuple{G, B, R}$ if and only if she has a
    positively winning strategy in the Reachability-game $\mathcal{G'} = 
    \tuple{G\otimes\mathcal{T}_{\mathbb{K}}, B\times\set{K_{0}}, R\times 
    \tuple{\mathbb{K}\setminus K_{0}}}$. 

    This positively winning strategy in 
    $\mathcal{G'}$ can be translated to a positively winning strategy in 
    $\tuple{G, B, R}$ with memory of size 
    $\mathcal{O}(N\cdot\size{\Pot(S)}\cdot\size{Q})$ where $N$ is the memory
    size of the positively winning strategy in $\mathcal{G'}$.
  \end{lemma}
  \begin{proof}
    Positively winning in $\mathcal{G'}$ can be restricted to those that 
    respect the actions given in $\lambda$ regarding the $\mathbb{K}$-component 
    of the current position. Otherwise this component becomes $K_{s}$ which 
    traps the play and does not allow to play for the Reachability target 
    anymore, but by definition of $\mathbb{K}$ and $\lambda$ even loosing plays
    may respect $\lambda$. By Lemma \ref{lem:TembeddedG} we obtain the 
    $\mathcal{T}$-compability of the strategy. Simulating 
    $\mathcal{T}_{\mathbb{K}}$ allows to translate this strategy to the 
    original game. Conversely, any positively winning $\mathcal{T}$-compatible 
    strategy in $\tuple{G, B, R}$ induce a corresponding strategy in 
    $\mathcal{G'}$.
  \end{proof}
\end{proof}
